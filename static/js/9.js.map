{"version":3,"sources":["webpack:///js/9.js","webpack:///./src/routes/ref/ref-server-routes.ts","webpack:///../applitutoriel-js-common/src/utils/roles.ts?143f*****","webpack:///../applitutoriel-js-common/src/actions/ref/ref-actions.ts"],"names":["webpackJsonp","290","module","exports","__webpack_require__","Object","defineProperty","value","tslib_1","hornet_js_utils_1","ReferentielAction","abstract_routes_1","roles_1","urls_1","ref_pays_service_1","injector_1","ReferentielRoutesServer","Utils","getLogger","_super","_this","call","this","addDataRoute","URL_REF_VILLES","DataRouteInfos","ListerVilles","Injector","getRegistered","ReferentielPaysService","Roles","EVERYONE","URL_PAYS","ListerPays","URL_REF_NATIONALITE","ListerNationalites","nationnalite","ADMIN","__extends","AbstractRoutes","default","328","USER_STR","ADMIN_STR","USER","809","logger","apply","arguments","prototype","execute","getService","listerPays","RouteActionService","trace","listerVilles","payload","req","body","getPayload","rechercherNationalites"],"mappings":"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","file":"js/9.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar hornet_js_utils_1 = __webpack_require__(0);\nvar ReferentielAction = __webpack_require__(809);\nvar abstract_routes_1 = __webpack_require__(61);\nvar roles_1 = __webpack_require__(328);\nvar urls_1 = __webpack_require__(13);\nvar ref_pays_service_1 = __webpack_require__(65);\nvar injector_1 = __webpack_require__(63);\nvar logger = hornet_js_utils_1.Utils.getLogger(\"applitutoriel.src.routes.ref.ref-server-routes\");\nvar ReferentielRoutesServer = /** @class */ (function (_super) {\n    tslib_1.__extends(ReferentielRoutesServer, _super);\n    function ReferentielRoutesServer() {\n        var _this = _super.call(this) || this;\n        _this.addDataRoute(urls_1.URL_REF_VILLES, function () { return new abstract_routes_1.DataRouteInfos(ReferentielAction.ListerVilles, null, injector_1.Injector.getRegistered(ref_pays_service_1.ReferentielPaysService)); }, roles_1.Roles.EVERYONE);\n        _this.addDataRoute(urls_1.URL_PAYS, function () { return new abstract_routes_1.DataRouteInfos(ReferentielAction.ListerPays, null, injector_1.Injector.getRegistered(ref_pays_service_1.ReferentielPaysService)); }, roles_1.Roles.EVERYONE);\n        _this.addDataRoute(urls_1.URL_REF_NATIONALITE, function () { return new abstract_routes_1.DataRouteInfos(ReferentielAction.ListerNationalites, null, injector_1.Injector.getRegistered(ref_pays_service_1.ReferentielPaysService)); }, roles_1.Roles.EVERYONE);\n        _this.addDataRoute(urls_1.URL_REF_NATIONALITE + \"/recherche\", function (nationnalite) { return new abstract_routes_1.DataRouteInfos(ReferentielAction.ListerNationalites, null, injector_1.Injector.getRegistered(ref_pays_service_1.ReferentielPaysService)); }, roles_1.Roles.ADMIN, \"post\");\n        return _this;\n    }\n    return ReferentielRoutesServer;\n}(abstract_routes_1.AbstractRoutes));\nexports.default = ReferentielRoutesServer;\n\n\n\n/***/ }),\n\n/***/ 328:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Classe regroupant les rôles disponibles dans l'appli-tuto\n */\nvar Roles = /** @class */ (function () {\n    function Roles() {\n    }\n    Roles.USER_STR = \"APPLI_TUTO_USER\";\n    Roles.ADMIN_STR = \"APPLI_TUTO_ADMIN\";\n    Roles.USER = [Roles.USER_STR];\n    Roles.ADMIN = [Roles.ADMIN_STR];\n    Roles.EVERYONE = [Roles.USER_STR, Roles.ADMIN_STR];\n    return Roles;\n}());\nexports.Roles = Roles;\n\n\n\n/***/ }),\n\n/***/ 809:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar hornet_js_utils_1 = __webpack_require__(0);\nvar abstract_routes_1 = __webpack_require__(61);\nvar logger = hornet_js_utils_1.Utils.getLogger(\"applitutoriel.actions.ref.ref-actions\");\nvar ListerPays = /** @class */ (function (_super) {\n    tslib_1.__extends(ListerPays, _super);\n    function ListerPays() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListerPays.prototype.execute = function () {\n        return this.getService().listerPays();\n    };\n    return ListerPays;\n}(abstract_routes_1.RouteActionService));\nexports.ListerPays = ListerPays;\nvar ListerVilles = /** @class */ (function (_super) {\n    tslib_1.__extends(ListerVilles, _super);\n    function ListerVilles() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListerVilles.prototype.execute = function () {\n        logger.trace(\"Action: ListerVilles, appel api villes\");\n        return this.getService().listerVilles();\n    };\n    return ListerVilles;\n}(abstract_routes_1.RouteActionService));\nexports.ListerVilles = ListerVilles;\nvar ListerNationalites = /** @class */ (function (_super) {\n    tslib_1.__extends(ListerNationalites, _super);\n    function ListerNationalites() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListerNationalites.prototype.execute = function () {\n        var payload = {};\n        if (this.req.body) {\n            payload = this.getPayload();\n        }\n        return this.getService().rechercherNationalites(payload.nationnalite);\n    };\n    return ListerNationalites;\n}(abstract_routes_1.RouteActionService));\nexports.ListerNationalites = ListerNationalites;\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/9.js","import { Utils } from \"hornet-js-utils\";\r\nimport { Logger } from \"hornet-js-utils/src/logger\";\r\n\r\nimport * as ReferentielAction from \"applitutoriel-js-common/src/actions/ref/ref-actions\";\r\nimport { AbstractRoutes, DataRouteInfos } from \"hornet-js-core/src/routes/abstract-routes\";\r\nimport { Roles } from \"applitutoriel-js-common/src/utils/roles\";\r\n\r\nimport {\r\n    URL_PAYS,\r\n    URL_REF_VILLES,\r\n    URL_REF_NATIONALITE\r\n} from \"applitutoriel-js-common/src/utils/urls\";\r\n\r\nimport { ReferentielPaysService } from \"applitutoriel-js-common/src/services/data/ref/ref-pays-service\";\r\nimport { Injector } from \"hornet-js-core/src/inject/injector\";\r\n\r\nconst logger: Logger = Utils.getLogger(\"applitutoriel.src.routes.ref.ref-server-routes\");\r\n\r\nexport default class ReferentielRoutesServer extends AbstractRoutes {\r\n\r\n    constructor() {\r\n\r\n        super();\r\n\r\n        this.addDataRoute(URL_REF_VILLES,\r\n            () => new DataRouteInfos(ReferentielAction.ListerVilles, null, Injector.getRegistered(ReferentielPaysService)),\r\n            Roles.EVERYONE\r\n        );\r\n\r\n        this.addDataRoute(URL_PAYS,\r\n            () => new DataRouteInfos(ReferentielAction.ListerPays, null, Injector.getRegistered(ReferentielPaysService)),\r\n            Roles.EVERYONE\r\n        );\r\n\r\n        this.addDataRoute(URL_REF_NATIONALITE,\r\n            () => new DataRouteInfos(ReferentielAction.ListerNationalites, null, Injector.getRegistered(ReferentielPaysService)),\r\n            Roles.EVERYONE\r\n        );\r\n        \r\n        this.addDataRoute(URL_REF_NATIONALITE + \"/recherche\",\r\n            (nationnalite) => new DataRouteInfos(ReferentielAction.ListerNationalites, null, Injector.getRegistered(ReferentielPaysService)),\r\n            Roles.ADMIN,\r\n            \"post\"\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/routes/ref/ref-server-routes.ts","/**\r\n * Classe regroupant les rôles disponibles dans l'appli-tuto\r\n */\r\nexport class Roles {\r\n\r\n    static USER_STR = \"APPLI_TUTO_USER\";\r\n    static ADMIN_STR = \"APPLI_TUTO_ADMIN\";\r\n\r\n    static USER = [Roles.USER_STR];\r\n    static ADMIN = [Roles.ADMIN_STR];\r\n\r\n    static EVERYONE = [Roles.USER_STR, Roles.ADMIN_STR];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ../applitutoriel-js-common/src/utils/roles.ts","import { Utils } from \"hornet-js-utils\";\r\nimport { Logger } from \"hornet-js-utils/src/logger\";\r\nimport { ReferentielPaysService } from \"src/services/page/ref/ref-pays-service\";\r\nimport { RouteActionService } from \"hornet-js-core/src/routes/abstract-routes\";\r\n\r\nconst logger: Logger = Utils.getLogger(\"applitutoriel.actions.ref.ref-actions\");\r\n\r\nexport class ListerPays extends RouteActionService<any, ReferentielPaysService> {\r\n    execute(): Promise<any> {\r\n        return this.getService().listerPays();\r\n    }\r\n}\r\n\r\nexport class ListerVilles extends RouteActionService<any, ReferentielPaysService> {\r\n    execute(): Promise<any> {\r\n        logger.trace(\"Action: ListerVilles, appel api villes\");\r\n        return this.getService().listerVilles();\r\n    }\r\n}\r\n\r\nexport class ListerNationalites extends RouteActionService<any, ReferentielPaysService> {\r\n    execute(): Promise<any> {\r\n        let payload: any = {};\r\n        if (this.req.body) {\r\n            payload = this.getPayload();\r\n        }\r\n        return this.getService().rechercherNationalites(payload.nationnalite);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ../applitutoriel-js-common/src/actions/ref/ref-actions.ts"],"sourceRoot":""}