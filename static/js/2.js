(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{370:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(4),a=n(654),r=n(655),l=n(656),c=i.Logger.getLogger("hornet-js-react-components.widget.table.column"),p=function(t){function Column(e,n){return t.call(this,e,n)||this}return o.__extends(Column,t),Column.prototype.shouldComponentUpdate=function(t,e){return!1},Column.prototype.render=function(){c.debug("Column render : ",this.props.id?this.props.id:this.props.keyColumn);var t=this.getCellProps();return t.key="wc-"+t.key,this.props.isHeader?this.wrap(this.getHeaderCell(),t):this.wrap(this.getBodyCell(),t)},Column.prototype.getCellProps=function(){var t={coordinates:this.props.coordinates,isSelected:this.props.isSelected,id:this.props.id};return this.props.style&&(t.style=this.props.style),t.isEditing=this.state.isEditing,t.nbColumns=this.props.nbColumns,t.key=Column.getCellKey(t),t.compareMethod=this.props.compareMethod||null,t},Column.prototype.getHeaderCell=function(){return a.HeaderCell},Column.prototype.getBodyCell=function(){return this.props.editable?Column.getEditableCell():r.BodyCell},Column.getHeaderCell=function(t){return a.HeaderCell},Column.getBodyCell=function(t){return t.editable?Column.getEditableCell():r.BodyCell},Column.getEditableCell=function(){return l.InputTextInLineBodyCell},Column.getCellProps=function(t,e){return{}},Column.getCellKey=function(t){return"cell-"+t.id+"-"+t.coordinates.row+"-"+t.coordinates.column},Column.defaultProps={sortable:!1,defaultStyle:{width:"10em"},hiddenable:!0},Column}(s.HornetComponent);e.Column=p},378:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(2),a=n(4),r=i.Logger.getLogger("hornet-js-react-components.widget.table.columns"),l=function(t){function Columns(e,n){return t.call(this,e,n)||this}return o.__extends(Columns,t),Columns.prototype.render=function(){return r.debug("Columns render"),s.createElement("div",null)},Columns}(a.HornetComponent);e.Columns=l},379:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(2),a=n(455),r=n(421),l=n(10);n(402);var c=i.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.abstract-body-cell"),p=function(t){function AbstractBodyCell(e,n){var i=t.call(this,e,n)||this;i.focus=!1;e.value[e.keyColumn];return i.defaultClassName="default-body-cell",i.state=o.__assign({},i.state,{value:AbstractBodyCell.getTemplatedValue(e),titleCell:AbstractBodyCell.getTemplatedTitleCell(e)}),i}return o.__extends(AbstractBodyCell,t),AbstractBodyCell.prototype.shouldComponentUpdate=function(e,n){return t.prototype.shouldComponentUpdate.call(this,e,n)||this.state.value!==n.value},AbstractBodyCell.prototype.componentDidUpdate=function(e,n,o){t.prototype.componentDidUpdate.call(this,e,n,o),this.focus&&(this.props.contentState.setFocusOn(this.props.coordinates),this.focus=!1)},AbstractBodyCell.prototype.componentWillReceiveProps=function(t,e){t.value[t.keyColumn];var n=AbstractBodyCell.getTemplatedValue(t);n!==this.state.value&&this.setState({value:n,titleCell:AbstractBodyCell.getTemplatedTitleCell(t)})},AbstractBodyCell.prototype.render=function(){return c.debug("render BodyCell -> column:",this.props.coordinates.column," - line:",this.props.coordinates.row,"- isFocused:",this.state.isFocused,"- tabIndex:",this.state.tabIndex),s.createElement("td",o.__assign({},this.getDefaultTdProps()),this.renderCell())},AbstractBodyCell.getTemplatedValue=function(t){var e="number"==typeof t.value[t.keyColumn]?"0":"";return new r.Template("${"+t.keyColumn+"}").process(t.value,t.replaceUndef||e)},AbstractBodyCell.getTemplatedTitleCell=function(t){t.value[t.keyColumn];return t.titleCell&&new r.Template(t.titleCell).process(t.value,t.replaceUndef||"?")},AbstractBodyCell.prototype.renderCell=function(){return this.state.value},AbstractBodyCell.prototype.getCellTitle=function(){return""},AbstractBodyCell.prototype.setDisabled=function(){return void 0!==this.props.contentState.itemInEdition&&null!==this.props.contentState.itemInEdition&&!1===this.state.isEditing},AbstractBodyCell.prototype.getDefaultTdProps=function(){var t=this,e={"datatable-cell":!0};e["datatable-cell-custom-"+this.props.keyColumn]=!0,e["datatable-cell-in-edition"]=this.props.contentState.itemInEdition&&this.state.abstractisEditing;var n=this.props.id+"-colBody-"+this.props.coordinates.row+"-"+this.props.coordinates.column;return 0===this.props.coordinates.column&&this.props.contentState.itemInEdition&&(this.focus=!0),e[this.props.id+"-"+this.props.keyColumn]=!0,e[this.defaultClassName]=!0,e[this.props.className]=!!this.props.className,{ref:function(e){t.tableCellRef=e},className:l.default(e),onKeyDown:this.props.handleKeyDown||this.handleKeyDown.bind(this),tabIndex:this.getTabIndex(),"aria-selected":this.state.isFocused,onFocus:function(e){t.props.contentState.setFocusOn(t.props.coordinates),t.moveCaretAtEnd(e)},disabled:this.setDisabled(),style:this.props.style,key:n,id:n,title:!1!==this.state.visible?this.state.titleCell instanceof Function?this.state.titleCell(this.props.value):this.state.titleCell?this.state.titleCell:this.getCellTitle():null}},AbstractBodyCell.prototype.moveCaretAtEnd=function(t){var e=t.target.value;t.target.value="",t.target.value=e},AbstractBodyCell}(a.AbstractCell);e.AbstractBodyCell=p},380:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function Roles(){}return Roles.USER_STR="APPLI_TUTO_USER",Roles.ADMIN_STR="APPLI_TUTO_ADMIN",Roles.USER=[Roles.USER_STR],Roles.ADMIN=[Roles.ADMIN_STR],Roles.EVERYONE=[Roles.USER_STR,Roles.ADMIN_STR],Roles}();e.Roles=o},387:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(2),a=n(4),r=n(388),l=n(389),c=n(378),p=n(458),u=n(401),d=n(47),h=n(424),m=n(456);n(453);var g=i.Logger.getLogger("hornet-js-components.widget.table.table"),C=function(t){function Table(e,n){var i=t.call(this,e,n)||this;return i.tableState=new u.TableState,i.contentState=new u.ContentState,e.width||i.tableState.once(u.TableState.RESIZE_EVENT,i.handleResize.bind(i)),i.state=o.__assign({},i.state,{isMounted:!1}),i.contentState.setHasCheckColumnMassSelection(i.hasCheckColumnChildren()),i}return o.__extends(Table,t),Table.prototype.shouldComponentUpdate=function(t,e){return this.state.isVisible!==e.isVisible},Table.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.tableState.removeContents()},Table.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.setState({isMounted:!0})},Table.prototype.render=function(){g.debug("Table render : ",this.props.id);var t,e=this.getComponentsBy(l.Content),n="notif-"+this.props.id;return e&&e.length>0&&e.map(function(e){!e.props.notifId&&e.props.onSubmit&&(t=e)}),this.state.isVisible?t?s.createElement("div",null,s.createElement(d.Notification,{id:n})," ",this.renderTable(e)):this.renderTable(e):s.createElement("div",null)},Table.prototype.handleResize=function(t){this.setState({width:t})},Table.prototype.renderTable=function(t){var e=this.getComponentBy(r.Header),n="datatable-container";return this.props.className&&(n="datatable-container "+this.props.className),s.createElement("div",{className:n,id:this.props.id},this.renderHeader(e,t),this.renderContent(e,t),s.createElement("div",{className:"hornet-datatable-bottom"},this.renderFooter()))},Table.prototype.getColumnsInformation=function(t){var e={},n=this.props.id;return t&&t.length>0&&t.map(function(t,o){var i=a.HornetComponent.getChildrenFrom(t,c.Columns),s=[];n+="-"+o,i.length>0&&i.map(function(t){t&&t.props&&t.props.hiddenable&&s.push({keyColumn:t.props.keyColumn,title:t.props.title,width:(t.props.defaultWidth||t.props.width)+Table.UNIT_SIZE})}),e={columns:s,id:n}}),e},Table.prototype.getContentsDataSources=function(t){var e=[];return t.map(function(t){e.push(t.props.dataSource)}),e},Table.prototype.renderHeader=function(t,e){if(t){var n="header-"+this.props.id,i=o.__assign({},t.props,{parentId:this.props.id,key:n,tableState:this.tableState,contentState:this.contentState,dataSourcesList:this.getContentsDataSources(e),tabIndex:-1,columns:this.getColumnsInformation(e),hiddenColumns:this.getHiddenColumns(t)});return s.createElement(r.Header,i)}return s.createElement("div",{tabIndex:-1})},Table.prototype.renderFooter=function(){var t=this.getComponentBy(p.Footer);return t?s.createElement(p.Footer,o.__assign({},t.props,{contentState:this.contentState})):s.createElement("div",null)},Table.prototype.renderContent=function(t,e){var n=this,i=[];return e&&e.length>0?(e.map(function(e,a){if(n.state.isMounted||n.state.isVisible){n.tableState.addContent(n.contentState);var r=e.props.id||n.props.id+"-"+a,c=(n.props.width||n.state.width)/13-.3,p="content-"+n.props.id+"-"+a,u=e.props.notifId||"notif-"+n.props.id,d=o.__assign({},e.props,{id:r,key:p,contentState:n.contentState,width:c,notifId:u,tabIndex:-1,hiddenColumns:n.getHiddenColumns(t),title:!e.props.title&&t&&t.props&&t.props.title?t.props.title:e.props.title});i.push(s.createElement(l.Content,d))}}),i):s.createElement("div",{tabIndex:-1})},Table.prototype.getHiddenColumns=function(t){var e=null;return t&&(s.Children.map(t.props.children,function(t){t.type===h.ToggleColumnsButton&&(e=t)}),e&&e.props&&e.props.hiddenColumns)?e.props.hiddenColumns:{}},Table.prototype.hasCheckColumnChildren=function(){var t,e=this.getCheckColumnChildrenDeep(this);return(t=e&&e.length>0)&&e[0].props&&e[0].props.keyColumn&&this.contentState.setKeycolumnMassSelection(e[0].props.keyColumn),t},Table.prototype.getCheckColumnChildrenDeep=function(t,e){var n=this,o=e||[];return s.Children.map(t.props.children,function(e){var i=e;i&&(i.type===m.CheckColumn?(o.push(e),o=n.getCheckColumnChildrenDeep(e,o)):Array.isArray(i.props.children)?s.Children.map(t.props.children,function(t){o=n.getCheckColumnChildrenDeep(t,o)}):o=n.getCheckColumnChildrenDeep(e,o))}),o.filter(function(t){return null!=t&&t})},Table.defaultProps={isVisible:!0},Table}(a.HornetComponent);e.Table=C},388:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(399),s=n(1),a=n(2),r=n(10),l=n(45),c=n(4),p=n(411),u=n(424),d=n(401),h=n(515),m=n(413);n(453),n(402),n(141);var g=s.Logger.getLogger("hornet-js-components.widget.table.header"),C=function(t){function Header(e,n){var i=t.call(this,e,n)||this;return i.state=o.__assign({},i.state,{id:i.state.id||i.state.parentId,libelleNombreTotalItem:i.state.libelleNombreTotalItem||"table.numberElementTitle",items:[],selectedItems:[]}),i.handleChangeDataTable=i.handleChangeDataTable.bind(i),i.props.tableState.on(d.TableState.INDEX_CHANGE_EVENT,i.handleChangeDataTable),i.props.contentState.setMaxListeners(1/0),i.handleEdition=i.handleEdition.bind(i),i.props.contentState.on(d.ContentState.EDITION_CLIC_EVENT,i.handleEdition),i.props.contentState.on(d.ContentState.EDITION_CLIC_EVENT,i.handleEdition),i.hiddenColumns=e.hiddenColumns,e.contentState.on(d.ContentState.TOGGLE_COLUMNS_EVENT,i.handleChangeHiddenColumns),i}return o.__extends(Header,t),Header.prototype.componentWillUnmount=function(){var t=this;this.props.tableState.removeListener(d.TableState.INDEX_CHANGE_EVENT,this.handleChangeDataTable),this.props.contentState.removeListener(d.ContentState.EDITION_CLIC_EVENT,this.handleEdition),this.props.dataSourcesList&&this.props.dataSourcesList.map(function(e,n){t.props.dataSourcesList[n].removeListener("select",t.handleChangeDataTable),t.props.dataSourcesList[n].removeListener("pagination",t.handlePaginationChange),t.props.dataSourcesList[n].removeListener("fetch",t.handlePaginationChange)})},Header.prototype.componentDidMount=function(){var t=this;this.props.dataSourcesList&&Array.isArray(this.props.dataSourcesList)&&this.props.dataSourcesList.length>0&&this.props.dataSourcesList.map(function(e,n){t.props.dataSourcesList[n].setMaxListeners(1/0),t.props.dataSourcesList[n].on("select",t.handleChangeDataTable),t.props.dataSourcesList[n].on("pagination",t.handlePaginationChange),t.props.dataSourcesList[n].on("fetch",t.handlePaginationChange)}),this.props.tableState.emit(d.TableState.RESIZE_EVENT,this.headerRef.clientWidth)},Header.prototype.render=function(){var t=this;g.debug("Header render : ",this.state.id);var e={id:this.state.id,className:r.default({"datatable-header-title":!0,"flex-container":!0,"badge-selected-items-before":this.state.contentState.hasCheckColumnMassSelection&&0!==this.getTotalSelectedItemsForAllDataSource()}),"data-badge":this.getTotalSelectedItemsForAllDataSource(),tabIndex:this.state.tabIndex};return a.createElement("div",o.__assign({},e,{ref:function(e){t.headerRef=e}}),a.createElement("div",{className:"datatable-title"},a.createElement("span",{className:"datatable-title-span",tabIndex:0},this.state.title+" "+this.i18n(this.state.libelleNombreTotalItem,o.__assign({count:this.getTotalItemsForAllDataSource()},this.getPaginationForFirstDataSource())))),this.renderOthersChildren(!0),this.state.hideMenuActions?null:this.renderMenuActions(),this.renderOthersChildren(!1),a.createElement(h.Confirm,{ref:"alert",message:"",onClickCancel:this.closeAlert,onClickClose:this.closeAlert}))},Header.prototype.handleChangeHiddenColumns=function(t){this.hiddenColumns=t},Header.prototype.renderMenuActions=function(){g.trace("renderMenuActions");var t=this.getChildrenOf(p.MenuActions),e=[];t.props&&!t.length?e.push(t):e=t;var n=this.getComponentBy(u.ToggleColumnsButton),i=null;if(n){var s=this.state.id+"toggleColumnsButton",r=o.__assign({},n.props,{id:this.state.id,key:s,tabIndex:-1,columns:this.props.columns,contentState:this.props.contentState,hiddenColumns:this.hiddenColumns});i=a.createElement(u.ToggleColumnsButton,r)}var l={actions:e,items:this.state.items,showAlert:this.showAlert,showIconInfo:this.props.showIconInfo,selectedItems:this.getAllSelectedItems(),id:this.state.id+"-menu-action",columns:this.props.columns,toggleColumnsButton:i,contentState:this.props.contentState};return a.createElement(p.MenuActions,o.__assign({},l))},Header.prototype.renderOthersChildren=function(t){var e=this;g.trace("renderOthersChildren. Noeuds avant MenuAction ? ",t);var n,i=[];return a.Children.map(this.props.children,function(s,r){if(s&&s.type!==p.MenuActions&&s.type!==u.ToggleColumnsButton){var l={items:e.state.items,showAlert:e.showAlert,showIconInfo:e.props.showIconInfo,selectedItems:e.getAllSelectedItems(),id:e.state.id+"-custom-header-"+r,key:e.state.id+"-custom-header-key-"+r,columns:e.props.columns,contentState:e.props.contentState};(t&&!n||!t&&n)&&i.push(a.createElement(s.type,o.__assign({},l,s.props)))}else s.type===p.MenuActions&&(n=!0)}),i&&i.length>0?i:null},Header.prototype.handleEdition=function(t){this.setState({hideMenuActions:null!=t})},Header.prototype.handleChangeDataTable=function(t,e){this.setState({selectedItems:t,items:e||this.state.items})},Header.prototype.closeAlert=function(){this.refs.alert.close()},Header.prototype.validateAlert=function(t){this.refs.alert.close(t)},Header.prototype.showAlert=function(t,e,n){var o=this;this.refs.alert.setMessage(t),this.refs.alert.setTitle(e),this.refs.alert.setOnClickOk(function(){o.validateAlert(n)}).open()},Header.prototype.getSelectedItemsForAllContent=function(){g.trace("getSelectedItemsForAllContent");var t=[];return t=this.getAllSelectedItems(),t=i.ArrayUtils.intersectionWith(t,this.state.items,this.state.contentState.keyColumnMassSelection)},Header.prototype.getAllSelectedItems=function(){var t=this;g.trace("getSelectedItems");var e=[];return this.props.dataSourcesList.map(function(n,o){e=i.ArrayUtils.unionWith(t.props.dataSourcesList[o].selected,e,t.state.contentState.keyColumnMassSelection)}),e},Header.prototype.getTotalItemsForAllDataSource=function(){g.trace("getTotalItemsForAllDataSource");var t=0;return this.props.dataSourcesList.map(function(e){var n=0;if(e){if(e instanceof m.PaginateDataSource){var o=e;n=o&&o.pagination&&o.pagination.totalItems?o.pagination.totalItems:0}else n=e.results?e.results.length:0;t+=n}}),t},Header.prototype.getPaginationForFirstDataSource=function(){g.trace("getPaginationForFirstDataSource");var t={};return this.props.dataSourcesList.every(function(e){if(e&&e instanceof m.PaginateDataSource){var n=e;return(t=o.__assign({},n.pagination)).nbPages&&0!==t.nbPages||(t.nbPages=Math.max(1,Math.ceil(t.totalItems/t.itemsPerPage))||0),!1}}),t},Header.prototype.getTotalSelectedItemsForAllDataSource=function(){g.trace("getTotalSelectedItemsForAllDataSource");var t=0;return this.props.dataSourcesList.map(function(e){e&&(t+=e.selected?e.selected.length:0)}),t},Header.prototype.handlePaginationChange=function(t){this.setState({pagination:l(t.pagination)})},Header}(c.HornetComponent);e.Header=C},389:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),s=n(3),a=n(399),r=n(375),l=n(1),c=n(2),p=n(4),u=n(515),d=n(652),h=n(413),m=n(378),g=n(403),C=n(520),f=n(456),b=n(455),y=n(660),v=n(401),S=n(516),E=n(396),_=n(521),I=n(457),A=n(10),T=n(45),P=n(46),D=n(48),k=n(505),B=n(53),L=n(54),N=n(7),w=n(661),x=n(17);n(453),n(402),n(397),e.UPDATE_COLUMN_VISIBILITY=new N.HornetEvent("UPDATE_COLUMN_VISIBILITY"),function(t){t[t.NAVIGATION=0]="NAVIGATION",t[t.ACTIONABLE=1]="ACTIONABLE"}(o=e.KeyboardInteractionMode||(e.KeyboardInteractionMode={}));var O=l.Logger.getLogger("hornet-js-react-components.widget.table.content"),R=function(t){function Content(e,n){var s=t.call(this,e,n)||this;s.tableTrsRef=[],s.columnsWithVisibilityMap=new Array,s.props.contentState.setMaxListeners(1/0),s.props.dataSource&&s.props.dataSource.setMaxListeners(1/0);var a=s.props.dataSource&&s.props.dataSource.results;a&&s.props.dataSource.select([]),s.state=i.__assign({},s.state,{keyboardMode:o.NAVIGATION,items:a?s.props.dataSource instanceof h.PaginateDataSource?s.props.dataSource.getItemsByPage(s.props.dataSource.pagination.pageIndex||h.Direction.FIRST):a:[],inProgress:!1,isContentVisible:!0,spinner:!1,actionMassEnabled:s.hasChildrenOfComponentTypeOf(m.Columns,f.CheckColumn),topHead:0});return s.hiddenColumns=e.hiddenColumns,s.totalColumns=s.getTotalColumnsVisibleFromState(),s.props.contentState.on(v.ContentState.TOGGLE_COLUMNS_EVENT,s.handleChangeHiddenColumns),s.props.dataSource&&s.props.dataSource.getDefaultSort()&&(s.sortData=s.props.dataSource.getDefaultSort().sort),s.handleEdition=s.handleEdition.bind(s),s.props.contentState.on(v.ContentState.EDITION_CLIC_EVENT,s.handleEdition),s.initializeColumnVisibilityWithCoord(),s.handleChangeHiddenColumns(s.hiddenColumns),s}return i.__extends(Content,t),Content.prototype.componentDidUpdate=function(e,n,o){t.prototype.componentDidUpdate.call(this,e,n,o),this.props.onRerender&&this.props.onRerender()},Content.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this);var n=this.props.dataSource.results;n&&(this.props.dataSource instanceof h.PaginateDataSource||this.props.contentState.setItems(n)),this.props.dataSource.on("init",this.setItem),this.props.dataSource.on("fetch",this.setItem),this.props.dataSource.on("pagination",this.setItemPaginate),this.props.dataSource.on("sort",this.sort),this.props.dataSource.on("delete",this.setItem),this.props.dataSource.on("add",this.setItem),this.props.dataSource.on("filter",this.setItem),this.props.dataSource.on("loadingData",this.displaySpinner),this.props.dataSource.on("select",this.handleChangeSelectedItems.bind(this)),this.listen(e.UPDATE_COLUMN_VISIBILITY,this.updateColumnVisibility),this.wrapScroll.addEventListener("scroll",this.scrollTable)},Content.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.props.dataSource.removeListener("fetch",this.setItem),this.props.dataSource.removeListener("init",this.setItem),this.props.dataSource.removeListener("pagination",this.setItemPaginate),this.props.dataSource.removeListener("sort",this.sort),this.props.dataSource.removeListener("add",this.setItem),this.props.dataSource.removeListener("filter",this.setItem),this.props.dataSource.removeListener("delete",this.setItem),this.props.dataSource.removeListener("loadingData",this.displaySpinner),this.props.dataSource.removeListener("select",this.handleChangeSelectedItems.bind(this)),this.remove(e.UPDATE_COLUMN_VISIBILITY,this.updateColumnVisibility),this.wrapScroll.removeEventListener("scroll",this.scrollTable)},Content.prototype.scrollTable=function(){this.setState({topHead:this.wrapScroll.scrollTop+"px"})},Content.prototype.render=function(){return O.debug("Table Content render : ",this.props.id?this.props.id:this.props.name),O.trace("rendu du tableau ",this.state.onSubmit?"avec un formulaire":"sans formulaire"),this.tableTrsRef=[],this.state.onSubmit&&!this.props.withoutForm?c.createElement(E.Form,{ref:"lineForm",hideButtons:!0,className:"form-table",schema:this.state.schema,formMessages:this.state.formMessages,id:this.state.idForm,notifId:this.state.notifId,onSubmit:this.handleSubmit,isMandatoryFieldsHidden:!0,omitNull:!1,customValidators:this.props.customValidators},this.renderContent()):this.renderContent()},Content.prototype.getTotalColumnsVisibleFromState=function(){return this.columnsWithVisibilityMap.filter(function(t){if(t.isVisible)return!0}).length},Content.prototype.handleChangeHiddenColumns=function(t){var e=this;this.hiddenColumns=t,this.columnsWithVisibilityMap.forEach(function(n,o){B(t[e.columnsWithVisibilityMap[o].column])||(e.columnsWithVisibilityMap[o].isVisible=!t[e.columnsWithVisibilityMap[o].column])}),this.totalColumns=this.getTotalColumnsVisibleFromState(),this.updateExpandableCellsColSpan(),this.spinnerLoader&&this.spinnerLoader.setState({nbColumns:this.totalColumns})},Content.prototype.updateExpandableCellsColSpan=function(){if(!s.Utils.isServer&&document){var t=document.getElementsByClassName("expandable-line-cell-"+this.state.id);if(t)for(var e=0;e<t.length;e++){var n=t[e];n&&n.setAttribute("colSpan",""+this.totalColumns)}}},Content.prototype.handleEdition=function(t){Array.isArray(this.tableTrsRef)&&this.tableTrsRef.map(function(e,n){if(e.instance&&e.instance.classList){var o=e.instance.classList;n===t?o.add("datatable-line-selected"):o.remove("datatable-line-selected")}})},Content.prototype.displaySpinner=function(t){this.props.hideSpinner||(t?this.showSpinnerComponent():this.hideSpinnerComponent())},Content.prototype.setItem=function(t){var e=this;this.props.contentState.setItems(t),this.setState({items:t},function(){e.tBodyRef&&e.tBodyRef.scrollHeight>e.tBodyRef.clientHeight&&e.state.items.length>0&&e.props.contentState.emit(v.ContentState.RESIZE_EVENT,e.props.width-1.2),e.props.contentState.emit(v.ContentState.UPDATE_TABLE_DONE,t)})},Content.prototype.setItemPaginate=function(t){var e=this;this.props.contentState.setItems(t.list),this.setState({items:t.list},function(){e.tBodyRef&&e.tBodyRef.scrollHeight>e.tBodyRef.clientHeight&&e.state.items.length>0&&e.props.contentState.emit(v.ContentState.RESIZE_EVENT,e.props.width-1.2)})},Content.prototype.sort=function(t,e){var n=this;this.props.contentState.setItems(t),this.sortData=e,this.setState({items:t},function(){n.thElementToFocus&&b.AbstractCell.setCellTabIndex(n.thElementToFocus,0,!0)})},Content.prototype.setDataSource=function(t,e){return this.setState({dataSource:t},e),this},Content.prototype.handleSubmit=function(t){var e=this;if(this.state.onSubmit){var n=this.props.contentState.itemInEdition;for(var o in t)n[o]=t[o];x.Promise.resolve().then(function(){e.state.onSubmit(n)}).then(function(){e.props.contentState.setItemInEdition(null,null)})}},Content.prototype.renderContent=function(){var t=this;O.trace("renderContent ");var e=this.initColumnsProps(),n={"aria-readonly":"true",key:this.props.id,id:this.props.id},o=this.state.isContentVisible?this.renderTHeader(e):null;return c.createElement("div",{className:"datatable-content",tabIndex:this.state.tabIndex,ref:function(e){t.wrapScroll=e}},c.createElement(d.SpinnerOverlay,{ref:function(e){return t.spinnerOverlay=e},isVisible:this.state.spinner,onHideSpinner:this.onHideSpinner,nbColumns:this.getTotalColumnsVisibleFromState(),width:this.props.width}),this.renderDivAlert(),c.createElement("table",i.__assign({},n,{summary:this.props.summary,ref:function(e){t.scrollElem=e}}),this.renderCaption(e),o,this.renderTBody(e)),c.createElement(u.Confirm,{ref:"alert",message:"",onClickCancel:this.closeAlert,onClickClose:this.closeAlert}))},Content.prototype.renderDivAlert=function(){var t=this,e=this.props.id+"-table-div-alert";return c.createElement(w.AlertDiv,{id:e,ref:function(e){t.alertDiv=e}})},Content.prototype.renderCaption=function(t){var e=this,n=this.props.title,o=this.props.dataSource&&this.props.dataSource instanceof h.PaginateDataSource?i.__assign({},this.props.dataSource.pagination):{};return o.nbPages&&0!==o.nbPages||(o.nbPages=Math.max(1,Math.ceil(o.totalItems/o.itemsPerPage))||0),n&&(n=this.i18n(n,o)),this.sortData&&t.map(function(t){if(t.props){var o=P(e.sortData,{key:t.props.keyColumn});o&&(n+=":"+e.i18n("table.sortedByTitle",{columnTitle:t.props.title})+" ",n+=o.dir===r.SortDirection.ASC?e.i18n("table.ascending"):e.i18n("table.descending"))}}),c.createElement("caption",{className:"table-caption"},n)},Content.prototype.onSort=function(t,e,n){var o=t;this.sortData=[t],this.state.clientSideSorting&&(o.clientSideSorting=!0),this.thElementToFocus=e;var i={sortDatas:[t]};n&&(i.compare=n),this.props.dataSource.sort(i)},Content.prototype.renderTHeader=function(t){var e=this,n={className:A.default({"datatable-columns":!this.state.headerFixed,"datatable-columns-fixed":this.state.headerFixed&&this.state.items.length>0,"datatable-columns-disabled":0===this.state.items.length,"datatale-columns-hidden":!!this.props.headerHidden}),id:this.props.id+"-thead"},o=c.createElement("thead",i.__assign({},n),c.createElement("tr",{id:this.props.id+"-tr-header"},this.renderRowHeader(t)),c.createElement(d.SpinnerLoader,{ref:function(t){return e.spinnerLoader=t},isVisible:this.state.spinner,className:this.props.id,nbColumns:this.getTotalColumnsVisibleFromState()}));return this.props.isSticky&&this.wrapScroll&&this.wrapScroll.scrollTop>0?c.createElement("div",{className:"isSticky",style:{top:this.state.topHead}},o):o},Content.prototype.renderRowHeader=function(t){var e=this,n=[];O.trace("renderRowHeader ");var o=this.props.dataSource?this.props.dataSource.selected:[];return t.map(function(s,r){var l=e.getColProps(t,r),u=P(e.sortData,{key:s.props.keyColumn});e.sortData&&u&&(l.sortData=u),s.type===f.CheckColumn&&(l.className=A.default({"datatable-header-no-text-overflow":!0})),l.isSelected=a.ArrayUtils.isInclude(e.props.contentState.items,o),l.onSort=e.onSort.bind(e),l.coordinates=new y.CellCoordinates(r,-1),l.isHeader=!0,l.style=l.style||s.props.style,l.key=e.state.id+"-"+l.coordinates.row+"-"+l.coordinates.column;var d=L({},s.props);if(d.style&&"none"===l.style.display&&(d.style.display=l.style.display),s.type.prototype.getHeaderCell.__deprecated__){var h=i.__assign({},l,d),m=s.type.getCellProps(h);n.push(c.createElement(s.type.getHeaderCell(i.__assign({},h,m)),i.__assign({},h,m)))}else{O.deprecated("DEPRECATED","Pour des raison de performance, il est préconisé d'utiliser des méthodes static - cf.UPGRADING.md");var g=p.HornetComponent.wrap(s.type,s,l,d);n.push(c.createElement(g,{key:"wc-"+l.key}))}}),n},Content.prototype.renderDatatableMessage=function(t){O.trace("renderDatatableMessage ");var e={};return e.colSpan=this.totalColumns,e.className=A.default({"datatable-message-content":!0,txtcenter:!0}),e.style={width:this.state.width+Content.UNIT_SIZE},c.createElement("tr",{key:"emptyRow"},c.createElement("td",i.__assign({},e),c.createElement("span",{role:"alert"},t)))},Content.prototype.renderTBody=function(t){var e=this;O.trace("renderTBody ");var n=[];this.state.items&&this.state.items.length>0&&this.state.isContentVisible?this.state.items.map(function(o,i){var s=e.renderExpandableRow(o,t,i,!0);s&&n.push(s),n.push(e.renderRowBody(o,t,i));var a=e.renderExpandableRow(o,t,i);a&&n.push(a)}):n.push(this.renderDatatableMessage(this.state.emptyResult||this.i18n("table.emptyResult")));var o={className:A.default({"datatable-data":!this.props.headerFixed,"datatable-data-fixed":this.state.headerFixed&&this.state.items.length>0}),ref:function(t){return e.tBodyRef=t}};return c.createElement("tbody",i.__assign({},o),n)},Content.prototype.renderExpandableRow=function(t,e,n,o){var s=this;O.trace("renderExpandableRow ");var a=o?_.LineBefore:I.LineAfter,r=o?"before":"after",l=[],p=null;return e.map(function(o,u){var d=Content.getChildrenFrom(o,a),h=s.getColProps(e,u);if(h.coordinates=new y.CellCoordinates(u,n),d&&Array.isArray(d)&&d.length>0){var m=Content.getComponentFromParentBy(o,a),g="";if(o.props.headers&&Array.isArray(o.props.headers)?o.props.headers.map(function(t){var n=D(e,{props:{keyColumn:t}});n>-1&&(g+=h.key=s.props.id+"-colHeader-0-"+n+" ")}):g=o.props.headers,!m.props.visible||m.props.visible&&m.props.visible(t)){var C=s.totalColumns,f=[];d.map(function(e,o){var a=i.__assign({},e.props,{value:t,rowType:r,key:s.props.id+"expandable-line"+u+"-"+o+"-"+n});f.push(c.createElement(e.type,a))}),l.push(c.createElement("td",{colSpan:C,headers:g,className:"expandable-line-cell-"+s.state.id,key:s.props.id+"-expandable-line-cell"+r+"-"+n},c.createElement("div",null,f)));var b=s.props.id+"-expandable-line-"+r+"-"+n,v={"datatable-expandable-line":!0,"datatable-expandable-line-hidden":!m.props.displayed,"datatable-expandable-line-displayed":m.props.displayed};v[s.props.id+"-tr-with-colspan"]=!0;var S={ref:function(t){t&&(t.classList.add("datatable-expandable-line-hidden"),t.classList.remove("datatable-expandable-line-displayed"))},style:{},id:b,key:b,className:A.default(v)};p=c.createElement("tr",i.__assign({},S),l)}}}),p},Content.prototype.renderRowBody=function(t,e,n){var o=this;O.trace("renderRowBody ");var s=[],r={},l=-1!==a.ArrayUtils.getIndexById(this.props.dataSource.selected,t);this.state.customRowsClass&&(r=this.state.customRowsClass(t)),r["datatable-odd"]=n%2!=0,r["datatable-even"]=n%2==0,e.map(function(a,r){var u=o.getColProps(e,r);u.value=t,u.isSelected=l,u.coordinates=new y.CellCoordinates(r,n),u.key=o.props.id+"-columns-colBody-"+u.coordinates.row+"-"+u.coordinates.column,u.style=u.style||a.props.style,u.isEditing=o.props.contentState.itemInEdition===t,a.type!==g.ActionColumn&&a.type!==C.EditionActionColumn||(u.showAlert=o.showAlert);var d=L({},a.props);if(d.style&&"none"===u.style.display&&(d.style.display=u.style.display),a.type.prototype.getBodyCell.__deprecated__){var h=i.__assign({},u,d),m=a.type.getCellProps(h);s.push(c.createElement(a.type.getBodyCell(i.__assign({},h,m)),i.__assign({},h,m)))}else{O.deprecated("DEPRECATED - "+a.type.name+" - Pour des raisons de performance, il est préconisé d'utiliser la méthodes static - cf.UPGRADING.md");var f=p.HornetComponent.wrap(a.type,a,u,d),b=c.createElement(f,{key:"wc-"+u.key});s.push(b)}});var u={ref:function(e){e&&(o.tableTrsRef.push({instance:e,value:t}),Content.updateClasslistSelectedLine(e,l))},key:this.props.id+"-line-"+n,className:A.default(r),role:"row"};return c.createElement("tr",i.__assign({},u),s)},Content.prototype.handleChangeSelectedItems=function(t){this.tableTrsRef.map(function(e){e&&e.instance.classList&&(-1!==D(t,{id:e.value.id})?e.instance.classList.contains("datatable-line-selected")||e.instance.classList.add("datatable-line-selected"):e.instance.classList.contains("datatable-line-selected")&&e.instance.classList.remove("datatable-line-selected"))})},Content.prototype.initColumnsProps=function(){O.trace("initColumnsProps");var t=this.getChildrenOf(m.Columns);return this.props.headerFixed&&(t=this.fixColumnsWidth(t)),t},Content.prototype.fixColumnsWidth=function(t){O.trace("fixColumnsWidth ");var e=this.state.width,n=0;t.map(function(t){t.props.width?e-=t.props.width:n++});var o=e/n;return t.map(function(e,n){e.props.width||(t[n].props.width=o)}),t},Content.prototype.handleChangeKeyboardMode=function(t){t!==this.state.keyboardMode&&this.setState({keyboardMode:t})},Content.prototype.showSpinnerComponent=function(){return this.spinnerLoader&&this.spinnerLoader.progress(!0),this.spinnerOverlay&&this.spinnerOverlay.progress(!0),this},Content.prototype.hideSpinnerComponent=function(){return this.spinnerLoader&&this.spinnerLoader.progress(!1),this.spinnerOverlay&&this.spinnerOverlay.progress(!1),this},Content.prototype.closeAlert=function(){this.refs.alert.close()},Content.prototype.validateAlert=function(t){this.refs.alert.close(t)},Content.prototype.showAlert=function(t,e,n){var o=this;this.refs.alert.setMessage(t),this.refs.alert.setTitle(e),this.refs.alert.setOnClickOk(function(){o.validateAlert(n)}).open()},Content.prototype.updateAlertDiv=function(t){this.alertDiv&&this.alertDiv.setMessage(t)},Content.prototype.toggleSelectLines=function(t){if(this.updateAlertDiv(null),this.state.contentState.hasCheckColumnMassSelection){var e=T(this.state.items),n=a.ArrayUtils.intersectionWith(this.props.dataSource.selected,this.props.dataSource.results,this.state.contentState.keyColumnMassSelection);if(t){this.removeOrPush(n,t,!0);var o=this.i18n("table.lineUnselected");-1!==a.ArrayUtils.getIndexById(n,t)&&(o=this.i18n("table.lineSelected")),this.updateAlertDiv(o)}else if(n.length!==e.length){var i=!1;e.map(function(t){-1===a.ArrayUtils.getIndexById(n,t)&&(i=!0)}),i?(n=e,this.updateAlertDiv(this.i18n("table.linesSelected"))):(this.props.dataSource.removeUnSelectedItem(e),n=[],this.updateAlertDiv(this.i18n("table.linesUnselected")))}else{for(var s=0;s<e.length;s++)this.removeOrPush(n,e[s]);this.updateAlertDiv(this.i18n("table.linesUnselected"))}this.props.dataSource.select(n)}},Content.prototype.intersectionWith=function(t,e){var n=this;return k(t,e,function(t,e){return t[n.state.contentState.keyColumnMassSelection]===e[n.state.contentState.keyColumnMassSelection]})},Content.intersectionWith=function(t,e){return k(t,e,function(t,e){return t.id===e.id})},Content.prototype.navigateToCell=function(t,e){var n,o,i=null;switch(e){case S.NavigateDirection.BOTTOM:i=new y.CellCoordinates(t.column,Math.min(this.state.items.length,t.row+1));break;case S.NavigateDirection.TOP:i=new y.CellCoordinates(t.column,Math.max(-1,t.row-1));break;case S.NavigateDirection.LEFT:for(n=t.column-1,o=this.columnsWithVisibilityMap[n];o&&!o.isVisible;)n-=1,o=this.columnsWithVisibilityMap[n];o&&(i=new y.CellCoordinates(n,t.row));break;case S.NavigateDirection.RIGHT:for(n=t.column+1,o=this.columnsWithVisibilityMap[n];o&&!o.isVisible;)n+=1,o=this.columnsWithVisibilityMap[n];o&&(i=new y.CellCoordinates(n,t.row));break;case S.NavigateDirection.HOME_COL:for(n=0,o=this.columnsWithVisibilityMap[n];o&&!o.isVisible;)n+=1,o=this.columnsWithVisibilityMap[n];i=new y.CellCoordinates(n,t.row);break;case S.NavigateDirection.END_COL:for(n=this.columnsWithVisibilityMap.length-1,o=this.columnsWithVisibilityMap[n];o&&!o.isVisible;)n-=1,o=this.columnsWithVisibilityMap[n];i=new y.CellCoordinates(n,t.row);break;case S.NavigateDirection.HOME_LINE:i=new y.CellCoordinates(t.column,0);break;case S.NavigateDirection.END_LINE:var s=this.state.items;i=new y.CellCoordinates(t.column,s.length-1)}this.props.contentState.itemInEdition?i.row===this.props.contentState.itemInEdition.row&&this.props.contentState.setFocusOn(i):this.props.contentState.setFocusOn(i)},Content.prototype.getColProps=function(t,e){O.trace("getColProps ");var n={};n.coordinates={column:e},n.handleChangeKeyboardMode=this.handleChangeKeyboardMode,n.toggleSelectLines=this.toggleSelectLines.bind(this),n.nbColumns=t.length,n.actionMassEnabled=this.state.actionMassEnabled,n.navigateFct=this.navigateToCell.bind(this),n.keyboardMode=this.state.keyboardMode,n.headerFixed=this.props.headerFixed,n.contentState=this.props.contentState,n.dataSource=this.props.dataSource,n.id=this.props.id;var o=Content.mergeObjects({},t[e].props.style);return t[e].props.width&&(o.width=t[e].props.width),this.hiddenColumns&&this.hiddenColumns[t[e].props.keyColumn]?(o.display="none",this.hiddenColumns["hidden_"+e]=n.keyColumn):o.display="table-cell",n.style=Content.mergeObjects(t[e].props.defaultStyle,o),n},Content.prototype.removeOrPush=function(t,e,n){var o=a.ArrayUtils.getIndexById(t,e);-1!==o?(t.splice(o,1),this.props.dataSource.removeUnSelectedItem(e)):n&&t.push(e)},Content.updateClasslistSelectedLine=function(t,e){e&&!t.classList.contains("datatable-line-selected")?t.classList.add("datatable-line-selected"):e||t.classList.remove("datatable-line-selected")},Content.prototype.updateColumnVisibility=function(t){this.columnsWithVisibilityMap.map(function(e){if("string"==typeof t.detail)e.column===t.detail&&(e.isVisible=!e.isVisible);else{var n=t.detail;e.column===n.column&&(e.isVisible=n.isVisible)}}),this.setFirstVisibleColumnState()},Content.prototype.initializeColumnVisibilityWithCoord=function(){var t=this;this.getChildrenOf(m.Columns).forEach(function(e,n){e&&t.columnsWithVisibilityMap.push({column:e.props.keyColumn,coordinates:n,isVisible:!0})}),this.setFirstVisibleColumnState()},Content.prototype.setFirstVisibleColumnState=function(){var t=this.columnsWithVisibilityMap.filter(function(t){if(t.isVisible)return!0});this.props.contentState.setFirstVisibleColumnState(t[0])},Content.prototype.onHideSpinner=function(){this.thElementToFocus&&(this.thElementToFocus=document.getElementById(this.thElementToFocus.id),this.thElementToFocus&&b.AbstractCell.setCellTabIndex(this.thElementToFocus,0,!0))},Content}(p.HornetComponent);e.Content=R},401:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(38),s=n(50),a=function(t){function TableState(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentsState=[],e}return o.__extends(TableState,t),TableState.prototype.addContent=function(t){t.on(r.ITEMS_CHANGE_EVENT,this.setIndexAfterItemsChangeEvent.bind(this)),this.contentsState.push(t)},TableState.prototype.removeContent=function(t){t.removeListener(r.ITEMS_CHANGE_EVENT,this.setIndexAfterItemsChangeEvent.bind(this)),s(this.contentsState,t)},TableState.prototype.removeContents=function(){var t=this;this.contentsState.map(function(e){return t.removeContent(e)})},TableState.prototype.setIndexAfterItemsChangeEvent=function(t){var e=this;this.contentsState.map(function(n,o){t===n.items&&(e.index=o,e.emit(TableState.INDEX_CHANGE_EVENT,null,e.contentsState[o].items))})},TableState.prototype.getIndex=function(){return this.index},TableState.INDEX_CHANGE_EVENT="onIndexChange",TableState.RESIZE_EVENT="onResizeChange",TableState}(i.EventEmitter);e.TableState=a;var r=function(t){function ContentState(){var e=null!==t&&t.apply(this,arguments)||this;return e.items=[],e.hiddenColumns={},e}return o.__extends(ContentState,t),ContentState.prototype.setFocusOn=function(t){this.emit(ContentState.BLUR_EVENT,this.focusedCell),this.emit(ContentState.FOCUS_CHANGE_EVENT,this.focusedCell,t),this.focusedCell=t},ContentState.prototype.setItemInEdition=function(t,e){this.itemInEdition=t,this.itemInEdition&&(this.itemInEdition.row=e),this.emit(ContentState.EDITION_CLIC_EVENT,e)},ContentState.prototype.setItems=function(t){this.items=t,this.emit(ContentState.ITEMS_CHANGE_EVENT,this.items)},ContentState.prototype.setHiddenColumns=function(t){this.hiddenColumns=t,this.emit(ContentState.TOGGLE_COLUMNS_EVENT,this.hiddenColumns,this.firstVisibleColumnState,this.oldFirstVisibleColumnState)},ContentState.prototype.setFirstVisibleColumnState=function(t){t!==this.firstVisibleColumnState&&(this.oldFirstVisibleColumnState=this.firstVisibleColumnState,this.firstVisibleColumnState=t)},ContentState.prototype.setHasCheckColumnMassSelection=function(t){this.hasCheckColumnMassSelection=t},ContentState.prototype.setKeycolumnMassSelection=function(t){this.keyColumnMassSelection=t},ContentState.prototype.getFocusedCell=function(){return this.focusedCell},ContentState.FOCUS_CHANGE_EVENT="onFocusChange",ContentState.ITEMS_CHANGE_EVENT="onItemsChange",ContentState.RESIZE_EVENT="onResizeChange",ContentState.EDITION_CLIC_EVENT="onEditionClic",ContentState.BLUR_EVENT="onBlur",ContentState.TOGGLE_COLUMNS_EVENT="toggleColumns",ContentState.UPDATE_TABLE_DONE="updateTableDone",ContentState}(i.EventEmitter);e.ContentState=r},402:function(t,e,n){},403:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(370),s=n(518),a=n(519),r=function(t){function ActionColumn(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(ActionColumn,t),ActionColumn.getHeaderCell=function(){return a.ActionHeaderCell},ActionColumn.getBodyCell=function(t){return s.ActionBodyCell},ActionColumn.defaultProps=i.Column.mergeObjects(i.Column.defaultProps,{defaultStyle:{textAlign:"center",paddingLeft:0,width:"1.7em"},sortable:!1,hiddenable:!1}),ActionColumn}(i.Column);e.ActionColumn=r,r.prototype.getHeaderCell.__deprecated__=!0,r.prototype.getBodyCell.__deprecated__=!0},411:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(2),a=n(4),r=n(51),l=n(412),c=n(649),p=n(11);n(650),n(142);var u=i.Logger.getLogger("hornet-js-react-components.widget.table.menu-actions"),d=function(t){function MenuActions(e,n){var i=t.call(this,e,n)||this;return i.state=o.__assign({},i.state,{title:i.i18n("table.menuActions.title")}),i}return o.__extends(MenuActions,t),MenuActions.prototype.render=function(){u.debug("MenuActions render : ",this.props.id?this.props.id:this.state.title),u.trace("render MenuActions");var t=this.getMenuActions();return s.createElement("div",{className:"datatable-header-menu flex-container fr"},t.priorityActions.length>0?MenuActions.renderPriorityActions(t.priorityActions):s.createElement("div",{className:"menu-priority-container"}),t.dropdownItems.length>0?this.renderDropDownActions(t.dropdownItems):s.createElement("div",null))},MenuActions.prototype.getMenuActions=function(){var t=this,e=[],n=[],i=this.props.selectedItems?this.props.selectedItems[0]:{},a=this;if(this.props.showIconInfo&&e.push(s.createElement(c.TableButtonInfoAccessibilite,{color:"#ffffff",key:this.props.id+"-icon-info"})),this.props.toggleColumnsButton){var r=this.props.toggleColumnsButton;e.push(r)}return this.props.actions&&this.props.actions.length>0&&this.props.actions.map(function(r,c){if(r.props.typeAction===l.TypeAction.ACTION_MASSE&&a.props.selectedItems&&a.props.selectedItems.length>0||r.props.typeAction===l.TypeAction.ACTION_UNITAIRE&&a.props.selectedItems&&1===a.props.selectedItems.length||!r.props.typeAction){var p=o.__assign({},r.props);if(p.showAlert=t.props.showAlert,p.selectedItems=t.props.selectedItems,p.items=t.props.items,p.key=a.props.id+"-menuAction-"+c,p.value=i,(p.items.length>0||p.displayedWithoutResult)&&(!p.visible||p.visible&&p.visible()))if(p.priority){var u=o.__assign({},p);u.label=null;var d=s.createElement(l.ActionButton,o.__assign({},u));e.push(d)}else n.push({id:p.id,label:p.label,action:p.action,url:p.url?t.genUrlWithParams(p.url,i||{}):null,icon:p.srcImg,className:p.className?"material-dropdown-menu__link "+p.className:"material-dropdown-menu__link",key:p.id||c+"-menuAction-"+c,valueCurrent:i,title:p.title})}}),{priorityActions:e,dropdownItems:n}},MenuActions.prototype.renderDropDownActions=function(t){return s.createElement("div",{className:"fr menu-contextuel-container"},s.createElement(r.Dropdown,{id:this.props.id,srcImg:s.createElement(p.SvgSprites,{icon:"list"}),className:"menu-contextuel",type:"button",items:t,title:this.state.title,position:r.Position.BOTTOMRIGHT}))},MenuActions.renderPriorityActions=function(t){return s.createElement("div",{className:"menu-priority-container"},s.createElement("div",{className:"menu-priority-content"},s.createElement("ul",null,t.map(function(t){return s.createElement("li",{key:"li-"+t.key},s.createElement("div",{className:"menu-priority-content-action"},t))}))))},MenuActions}(a.HornetComponent);e.MenuActions=d},412:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(2),a=n(376),r=n(10),l=n(37),c=n(12),p=i.Logger.getLogger("hornet-js-react-components.widget.table.action-button");!function(t){t[t.ACTION_MASSE=1]="ACTION_MASSE",t[t.ACTION_UNITAIRE=2]="ACTION_UNITAIRE"}(e.TypeAction||(e.TypeAction={}));var u=function(t){function ActionButton(e,n){var o=t.call(this,e,n)||this;return e.url&&(o.state.url=o.genUrlWithParams(e.url,e.value)),o.state.visible=!0,e.visible&&(o.state.visible=e.visible(o.props.value)),o}return o.__extends(ActionButton,t),ActionButton.prototype.render=function(){p.debug("ActionButton render");var t,e={};this.props.className&&(e[this.props.className]=!0),e["picto-svg"]=!0,e["button-action"]=!0,t=this.props.srcImg?"string"==typeof this.props.srcImg?s.createElement("img",{src:this.props.srcImg,className:this.props.classNameImg,alt:this.props.title,tabIndex:-1}):this.props.srcImg:this.props.srcImg?this.props.srcImg:null;var n={disabled:this.state.disabled,id:this.props.id};return this.state.visible?s.createElement("a",o.__assign({href:this.props.url||"#",role:"button",tabIndex:0,className:r.default(e),title:this.props.title,onClick:this.props.onClick||this.onClick,onKeyDown:this.buildKeyDownHandler()},n),t,s.createElement("span",{className:"hidden-label"},this.props.title),s.createElement("span",{className:"label-button-action"},this.props.label)):null},ActionButton.prototype.buildKeyDownHandler=function(){var t=this;return this.props.onKeyDown?function(e){t.props.onKeyDown(e,t.props.onClick||t.onClick)}:function(e){e&&e.keyCode===c.KeyCodes.SPACEBAR&&(t.props.onClick?t.props.onClick(e):t.onClick(e))}},ActionButton.prototype.onClick=function(t){this.props.messageAlert?(t.stopPropagation(),this.props.showAlert(this.props.messageAlert,this.props.titleAlert,this.onAction)):this.onAction()},ActionButton.prototype.onAction=function(){this.state.url?window.location.href=this.state.url:this.props.action&&this.props.action(this.props.value,this.props.selectedItems)},ActionButton.defaultProps=l(a.Button.defaultProps,{displayedWithoutResult:!1}),ActionButton}(a.Button);e.ActionButton=u},413:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),s=n(17),a=n(377),r=n(19),l=n(49),c=n(399),p=n(1),u=n(443),d=n(651),h=n(444),m=n(73),g=n(452);p.Logger.getLogger("hornet-js-core.component.datasource.paginate-datasource");e.ITEMS_PER_PAGE_ALL=2147483647,function(t){t[t.PREVIOUS=-1]="PREVIOUS",t[t.NEXT=-2]="NEXT",t[t.FIRST=-3]="FIRST",t[t.LAST=-4]="LAST"}(o=e.Direction||(e.Direction={}));var C=function(){function Paginator(t){this._pagination=t,this.items=[]}return Object.defineProperty(Paginator.prototype,"pagination",{get:function(){return this._pagination},enumerable:!0,configurable:!0}),Object.defineProperty(Paginator.prototype,"sort",{get:function(){return this._sort},set:function(t){this._sort=t},enumerable:!0,configurable:!0}),Paginator.prototype.calculateNbPages=function(t){var e=t||this._pagination.totalItems;return d(e/this._pagination.itemsPerPage)+(e%this._pagination.itemsPerPage>0?1:0)},Paginator.prototype.paginate=function(t){if(t>0)this._pagination.pageIndex=t;else if(t>=o.LAST&&t<0)switch(t){case o.FIRST:this._pagination.pageIndex=1;break;case o.LAST:this._pagination.pageIndex=this.items.length;break;case o.PREVIOUS:this._pagination.pageIndex=this._pagination.pageIndex-1;break;case o.NEXT:this._pagination.pageIndex=this._pagination.pageIndex+1}else o.LAST;return this.extractPage(null,!1)},Paginator.prototype.extractPage=function(t,e){void 0===e&&(e=!1);var n=[];return!e&&this.items.length>=this._pagination.pageIndex?n=this.items[this._pagination.pageIndex]:t&&this._pagination.itemsPerPage&&(n=t,this._pagination.pageIndex&&(n=(n=n.slice((this._pagination.pageIndex-1)*this._pagination.itemsPerPage)).slice(0,this._pagination.itemsPerPage)),this.items[this._pagination.pageIndex]=n),n},Paginator.prototype.setItemsPerPage=function(t){this._pagination.itemsPerPage=t,this._pagination.pageIndex=1,this.items=[]},Paginator.prototype.reset=function(){this._pagination.pageIndex=1,this.items=[],this._pagination.totalItems=0,this._pagination.nbPages=0},Paginator.prototype.preparePagination=function(t,e){var n=this._pagination.pageIndex||o.FIRST;for(this.paginate(o.FIRST);this.extractPage(t,!0).length==this._pagination.itemsPerPage;)this.paginate(o.NEXT);this._pagination.totalItems=e||t.length,this._pagination.nbPages=this.calculateNbPages(),this.paginate(n<=this._pagination.nbPages?n:this._pagination.nbPages)},Paginator.prototype.setCurrentPage=function(t,e){this.extractPage(t,!0),this._pagination.totalItems=e||t.length,this._pagination.nbPages=this.calculateNbPages()},Paginator}();e.Paginator=C;var f=function(t){function PaginateDataSource(e,n,o,i){var s=t.call(this,e,o,i)||this;return s.config=e,s.keysMap=o,s.options=i,s._paginator=new C(n),s.initPaginateDataSource(),s.initSort(),h(["sort","pagination","select","add","filter","delete","unselect"],function(t){s.on(t,s.saveSelected)}),s}return i.__extends(PaginateDataSource,t),PaginateDataSource.prototype.initPaginateDataSource=function(){this.isDataSourceArray&&(this.initAsync&&this.initAsync.isAsync?this.initData():this.initDataSync()&&this.updatePaginator(this.datasourceResults))},PaginateDataSource.prototype.init=function(t){},Object.defineProperty(PaginateDataSource.prototype,"pagination",{get:function(){return this._paginator.pagination},set:function(t){this._paginator=new C(t)},enumerable:!0,configurable:!0}),PaginateDataSource.prototype.updatePaginator=function(t,e){this.isDataSourceArray?this._paginator.preparePagination(t,e):this._paginator.setCurrentPage(t,e)},PaginateDataSource.prototype.initPaginator=function(){this.emit("pagination",{list:this.results,pagination:{pageIndex:0,itemsPerPage:this._paginator.pagination.itemsPerPage,totalItems:0}})},PaginateDataSource.prototype.initSort=function(){this._paginator.sort=this.defaultSort?this.defaultSort.sort:null},PaginateDataSource.prototype.deleteAll=function(){t.prototype.deleteAll.call(this),this.initSort(),this.initPaginator()},PaginateDataSource.prototype.reload=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.initSort(),this.updatePaginator(this.results,this._paginator.pagination.totalItems),t?this.reloadPage(e):this.goToPage(o.FIRST)},PaginateDataSource.prototype.fetch=function(e,n,o){return o||(this.fetchArgsSaved=n,n=this.getFetchArgs("pagination",this.pagination)),t.prototype.fetch.call(this,e,n,!0)},PaginateDataSource.prototype.fetchData=function(e,n){var o=this;return t.prototype.fetchData.call(this,e,this._paginator.sort?g(this.getFetchArgs("sort",this._paginator.sort),n):n).then(function(t){return o.pagination.pageIndex=o.pagination.pageIndex||1,o.updatePaginator(o.datasourceResults,o._paginator.pagination.totalItems),t})},PaginateDataSource.prototype.transformData=function(e){var n=e[0];if(n&&n.errors){var o=new r.TechnicalError("ERR_TECH_"+l.CodesError.DATASOURCE_RESPONSE_ERROR,n.errors);return this.emit("error",o),s.Promise.reject(o)}return this.isDataSourceArray?t.prototype.transformData.call(this,n instanceof Array?n:[n]):n?(this._paginator.pagination.totalItems=n.nbTotal,this._paginator.pagination.pageIndex=n.pagination.pageIndex,t.prototype.transformData.call(this,n.liste)):(this._paginator.pagination.totalItems=0,this._paginator.pagination.pageIndex=1,t.prototype.transformData.call(this,[]))},PaginateDataSource.prototype.sort=function(e){var n=this;this.emit("loadingData",!0),this._paginator.sort=e.sortDatas,s.Promise.resolve().then(function(){try{if(n.isDataSourceArray){e.compare=e.compare||n.defaultSort,t.prototype.sortData.call(n,e);var o=n.pagination.pageIndex;n.updatePaginator(n.datasourceResults);var i=n._paginator.paginate(o);return n.emit("sort",i,e.sortDatas),i}return n.fetchData(!1,n.getFetchArgs("pagination",n.pagination)).then(function(t){return n.emit("sort",t,e.sortDatas),t})}catch(t){var s=new r.TechnicalError("ERR_TECH_"+l.CodesError.DATASOURCE_SORT_ERROR,null,t);n.emit("error",s)}}).finally(function(){n.emitEvent("loadingData",!1)})},PaginateDataSource.prototype.filter=function(t,e){var n=this;void 0===e&&(e=!1),this.emit("loadingData",!0),this.isDataSourceArray&&e&&(this._filtering_flag?this.datasourceResults=this._results_backup:(this._results_backup=this.datasourceResults,this._filtering_flag=!0)),s.Promise.resolve().then(function(){try{n.isDataSourceArray?(n.datasourceResults=u(n.results,t),n.updatePaginator(n.datasourceResults),n.goToPage(o.FIRST)):n.fetchData(!1,n.getFetchArgs("filter",t)).then(function(){n.emitEvent("filter",n.results)})}catch(t){var e=new r.TechnicalError("ERR_TECH_"+l.CodesError.DATASOURCE_FILTER_ERROR,null,t);n.emit("error",e)}}).finally(function(){n.emitEvent("loadingData",!1)})},PaginateDataSource.prototype.add=function(t){var e=this;void 0===t&&(t=!1);for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.addData.apply(this,[!1].concat(n)).then(function(t){var n=e.pagination.pageIndex||o.FIRST;return e.emit("add",e._paginator.paginate(n)),e.results}).catch(function(t){var n=new r.TechnicalError("ERR_TECH_"+l.CodesError.DATASOURCE_DELETE_ERROR,null,t);e.emit("error",n)})},PaginateDataSource.prototype.addData=function(e){var n=this;void 0===e&&(e=!1);for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return t.prototype.addData.apply(this,[!1].concat(i)).then(function(t){return t&&0!=t.length&&(n.updatePaginator(n.datasourceResults),n.goToPage(o.FIRST)),t})},PaginateDataSource.prototype.deleteData=function(e){var n=this;void 0===e&&(e=!1);for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return t.prototype.deleteData.apply(this,[e].concat(i)).then(function(t){return n.updatePaginator(n.datasourceResults),n.goToPage(n.pagination.pageIndex||o.FIRST),t})},PaginateDataSource.prototype.delete=function(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.deleteData.apply(this,[t].concat(n)).then(function(t){e.emit("delete",t),e.emit("pagination",{list:e._paginator.paginate(e._paginator.pagination.pageIndex),pagination:e._paginator.pagination})})},PaginateDataSource.prototype.goToPage=function(t){var e=this;this.isDataSourceArray?(this.emit("loadingData",!0),this.emit("pagination",{list:this._paginator.paginate(t),pagination:this._paginator.pagination}),this.emit("loadingData",!1)):(this._paginator.paginate(t),this.fetchData(!1,this.getFetchArgs("pagination",this.pagination)).then(function(t){e.emit("pagination",{list:t,pagination:e._paginator.pagination})}))},PaginateDataSource.prototype.getItemsByPage=function(t){return this._paginator.paginate(t)},PaginateDataSource.prototype.reloadPage=function(t){void 0===t&&(t=!1),t?this.goToPage(this.pagination.pageIndex||o.FIRST):this.emit("pagination",{list:this.datasourceResults,pagination:this._paginator.pagination})},PaginateDataSource.prototype.updatePerPage=function(t){var e=this;this.isDataSourceArray?(this.pagination.itemsPerPage=t,this.updatePaginator(this.datasourceResults),this.emit("pagination",{list:this._paginator.paginate(o.FIRST),pagination:this._paginator.pagination})):(this.pagination.itemsPerPage=t,this._paginator.paginate(o.FIRST),this.fetchData(!0,{criteres:this.fetchArgsSaved,pagination:this.pagination}).then(function(t){e.emit("pagination",{list:t,pagination:e._paginator.pagination})}))},PaginateDataSource.prototype.getFetchArgs=function(t,e,n){var o=n||{};return!n&&this.fetchArgsSaved&&(o[this.fetchAttrName]=this.fetchArgsSaved),e&&(o[t]=e),o},PaginateDataSource.prototype.selectClean=function(e){t.prototype.selectClean.call(this,e),this._paginator.reset()},PaginateDataSource.prototype.select=function(t){var e=[];t&&m(t,function(t){t.id&&e.push(t)}),this._currentItemSelected=e,this.emit("select",this._currentItemSelected)},PaginateDataSource.prototype.saveSelected=function(){this._selected=this.getAllSelected(),this._currentItemSelected=void 0},PaginateDataSource.prototype.getAllSelected=function(){return this._selected&&this._selected instanceof Array?c.ArrayUtils.unionWith(this._selected,this._currentItemSelected):this._currentItemSelected},Object.defineProperty(PaginateDataSource.prototype,"selected",{get:function(){return this.getAllSelected()},enumerable:!0,configurable:!0}),PaginateDataSource}(a.DataSource);e.PaginateDataSource=f},424:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(2),s=n(4),a=n(51),r=n(11),l=n(420),c=n(7),p=n(1),u=n(17);n(141);var d=p.Logger.getLogger("hornet-js-react-components.widget.table.toggle-columns-button"),h=function(t){function ToggleColumnsButton(e,n){var i=t.call(this,e,n)||this;return i.state=o.__assign({},i.state,{title:i.i18n("toggleColumnsButton.title")}),i}return o.__extends(ToggleColumnsButton,t),ToggleColumnsButton.prototype.componentDidMount=function(){var e=this;t.prototype.componentDidMount.call(this),this.state.columns.columns.map(function(t){var n=!e.state.hiddenColumns[t.keyColumn];c.fireHornetEvent(new c.HornetEvent("UPDATE_COLUMN_VISIBILITY").withData({column:t.keyColumn,isVisible:n}))})},ToggleColumnsButton.prototype.render=function(){return d.debug("ToggleColumnsButton render"),i.createElement(a.Dropdown,{id:"table-settings",srcImg:i.createElement(r.SvgSprites,{icon:"cog",tabIndex:-1}),items:this.configureDropDownItems(),position:a.Position.BOTTOMRIGHT,closeClick:!1,title:this.state.title,ariaLabel:this.state.title})},ToggleColumnsButton.prototype.renderDropDownItem=function(t){var e=!(this.props.hiddenColumns&&this.props.hiddenColumns[t.keyColumn]);"selectAll"===t.keyColumn&&(e=this.isAllChecked());var n={checked:e,onChange:t.action,title:this.i18n(this.state.itemTitleToggle,t),name:this.props.columns.id+"-checkbox-"+t.keyColumn,key:this.props.columns.id+"-checkbox-"+t.keyColumn+"-"+e,id:this.props.columns.id+"-checkbox-"+t.keyColumn};return i.createElement("div",{className:"toggle-column-item-content"},i.createElement("div",{className:"toggle-column-item-checkbox fl"},i.createElement(l.CheckBox,o.__assign({},n))),i.createElement("div",{className:"toggle-column-item-label fl"},i.createElement("label",{htmlFor:n.id},t.title)))},ToggleColumnsButton.prototype.configureDropDownItems=function(){var t=this,e=[];return this.props.selectAllItem&&e.push(this.configureSelectAllItem()),this.props.columns.columns.map(function(n,o){n.action=t.handleToggleColumn.bind(t,n.keyColumn,t.props.columns.id),e.push({label:t.renderDropDownItem(n),action:n.action,className:"material-dropdown-menu__link",key:n.id||o+"-table-settings-"+o})}),e},ToggleColumnsButton.prototype.handleToggleAllColumns=function(){var t=this,e=document.getElementById(this.props.columns.id+"-checkbox-selectAll").checked;u.Promise.resolve(this.props.columns.columns.map(function(n){t.toggleColumn(n.keyColumn,e),t.toggleCheckBox(n.keyColumn,e),c.fireHornetEvent(new c.HornetEvent("UPDATE_COLUMN_VISIBILITY").withData({column:n.keyColumn,isVisible:e}))})).then(function(){t.toggleCheckBox("selectAll",e)}),this.props.onChange&&this.props.onChange(this.getColumnsState()),this.state.contentState.setHiddenColumns(this.getColumnsState())},ToggleColumnsButton.prototype.handleToggleColumn=function(t){var e=document.getElementsByName(this.props.columns.id+"-checkbox-"+t)[0];this.toggleColumn(t,e.checked),this.toggleCheckBox(t,e.checked),this.props.selectAllItem&&this.controlSelectAllChecked(),this.props.onChange&&this.props.onChange(this.getColumnsState()),c.fireHornetEvent(new c.HornetEvent("UPDATE_COLUMN_VISIBILITY").withData(t)),this.state.contentState.setHiddenColumns(this.getColumnsState())},ToggleColumnsButton.prototype.controlSelectAllChecked=function(){var t=this,e=!0;this.props.columns.columns.map(function(n){if(e){var o=document.getElementsByName(t.props.columns.id+"-checkbox-"+n.keyColumn)[0];e=o.checked}}),this.toggleCheckBox("selectAll",e)},ToggleColumnsButton.prototype.getColumnsState=function(){var t=this,e={};return this.props.columns.columns.map(function(n,o){var i=document.getElementsByName(t.props.columns.id+"-checkbox-"+n.keyColumn)[0];"selectAll"!==n.keyColumn&&(e[n.keyColumn]=!i.checked,i.checked||(e["hidden-"+o]=o))}),e},ToggleColumnsButton.prototype.toggleColumn=function(t,e){for(var n=document.getElementsByClassName(this.props.columns.id+"-"+t),o=0;o<n.length;o++)n[o].style.display=e?"table-cell":"none"},ToggleColumnsButton.prototype.toggleCheckBox=function(t,e){document.getElementsByName(this.props.columns.id+"-checkbox-"+t)[0].checked=e},ToggleColumnsButton.prototype.configureSelectAllItem=function(){var t={keyColumn:"selectAll",label:this.i18n("dropdown.selectAll"),title:this.i18n("dropdown.selectAll"),action:this.handleToggleAllColumns};return{label:this.renderDropDownItem(t),action:t.action,className:"material-dropdown-menu__link",key:this.props.columns.id+"-table-settings-select-all"}},ToggleColumnsButton.prototype.isAllChecked=function(){var t=this,e=!0;return this.props.hiddenColumns&&this.props.columns.columns.map(function(n){t.props.hiddenColumns[n.keyColumn]&&(e=!1)}),e},ToggleColumnsButton.defaultProps={selectAllItem:!0,itemTitleToggle:"toggleColumnsButton.itemTitleToggle"},ToggleColumnsButton}(s.HornetComponent);e.ToggleColumnsButton=h},425:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(370),s=n(664),a=function(t){function DateColumn(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(DateColumn,t),DateColumn.getBodyCell=function(){return s.DateBodyCell},DateColumn.defaultProps=i.Column.mergeObjects(i.Column.defaultProps,{sortable:!1,defaultStyle:{width:"6em"},hiddenable:!0}),DateColumn}(i.Column);e.DateColumn=a,a.prototype.getBodyCell.__deprecated__=!0},452:function(t,e){var n=9007199254740991,o="[object Arguments]",i="[object Function]",s="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function apply(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var r=Object.prototype,l=r.hasOwnProperty,c=r.toString,p=r.propertyIsEnumerable,u=Math.max;function arrayLikeKeys(t,e){var n=d(t)||function isArguments(t){return function isArrayLikeObject(t){return function isObjectLike(t){return!!t&&"object"==typeof t}(t)&&isArrayLike(t)}(t)&&l.call(t,"callee")&&(!p.call(t,"callee")||c.call(t)==o)}(t)?function baseTimes(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],i=n.length,s=!!i;for(var a in t)!e&&!l.call(t,a)||s&&("length"==a||isIndex(a,i))||n.push(a);return n}function assignValue(t,e,n){var o=t[e];l.call(t,e)&&eq(o,n)&&(void 0!==n||e in t)||(t[e]=n)}function baseKeysIn(t){if(!isObject(t))return function nativeKeysIn(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=function isPrototype(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}(t),n=[];for(var o in t)("constructor"!=o||!e&&l.call(t,o))&&n.push(o);return n}function isIndex(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function eq(t,e){return t===e||t!=t&&e!=e}var d=Array.isArray;function isArrayLike(t){return null!=t&&function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function isFunction(t){var e=isObject(t)?c.call(t):"";return e==i||e==s}(t)}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var h=function createAssigner(t){return function baseRest(t,e){return e=u(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=u(n.length-e,0),s=Array(i);++o<i;)s[o]=n[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=n[o];return a[e]=s,apply(t,this,a)}}(function(e,n){var o=-1,i=n.length,s=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(i--,s):void 0,a&&function isIterateeCall(t,e,n){if(!isObject(n))return!1;var o=typeof e;return!!("number"==o?isArrayLike(n)&&isIndex(e,n.length):"string"==o&&e in n)&&eq(n[e],t)}(n[0],n[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++o<i;){var r=n[o];r&&t(e,r,o,s)}return e})}(function(t,e){!function copyObject(t,e,n,o){n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],r=o?o(n[a],t[a],a,n,t):void 0;assignValue(n,a,void 0===r?t[a]:r)}return n}(e,function keysIn(t){return isArrayLike(t)?arrayLikeKeys(t,!0):baseKeysIn(t)}(e),t)});t.exports=h},453:function(t,e,n){},454:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(2),a=n(375),r=n(455),l=n(10),c=n(401);n(402);var p=i.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.abstract-header-cell"),u=function(t){function AbstractHeaderCell(e,n){var o=t.call(this,e,n)||this;return o.props.contentState.on(c.ContentState.TOGGLE_COLUMNS_EVENT,o.handleChangeHiddenColumns),o.props.contentState.on(c.ContentState.EDITION_CLIC_EVENT,o.handleEditionQuit),o}return o.__extends(AbstractHeaderCell,t),AbstractHeaderCell.prototype.shouldComponentUpdate=function(t,e){return!0},AbstractHeaderCell.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.props.contentState.removeListener(c.ContentState.EDITION_CLIC_EVENT,this.handleEditionQuit)},AbstractHeaderCell.prototype.render=function(){return p.debug("render AbstractHeaderCell -> column:",this.props.coordinates.column," - line:",this.props.coordinates.row,"- isFocused:",this.state.isFocused,"- tabIndex:",this.state.tabIndex),s.createElement("th",o.__assign({},this.getDefaultThProps(-1)),this.renderCell())},AbstractHeaderCell.prototype.renderCell=function(){return this.state.value},AbstractHeaderCell.prototype.getDefaultThProps=function(t){var e=this;p.trace("Rendu Header column Tableau");var n={"datatable-header":!0,fixed:this.props.headerFixed};this.props.className&&(n[this.props.className]=!0);var o="none";if(this.props.sortable&&!this.props.contentState.itemInEdition){var i=this.isSortedColumn(this.props.sortData);n["datatable-header-sortable-column"]=!0,i&&(n["datatable-header-sorted"]=!0,this.props.sortData.dir===a.SortDirection.DESC?n["datatable-header-sorted-desc"]=!0:n["datatable-header-sorted-asc"]=!0),n["datatable-cell-custom"]=!0,n["datatable-cell-custom-"+this.props.keyColumn]=!0,o=this.handleSortTitle(i,o).ariasort}n[this.props.id+"-"+this.props.keyColumn]=!0,n.is_disabled=void 0!==this.props.contentState.itemInEdition&&null!==this.props.contentState.itemInEdition;var s=this.props.id+"-colHeader-0-"+this.props.coordinates.column;return{ref:function(t){t&&(e.tableCellRef=t)},className:l.default(n),onFocus:this.handleFocus.bind(this),onBlur:this.handleBlur.bind(this),onKeyDown:this.handleKeyDown.bind(this),style:this.props.style,key:s,id:s,scope:"col"}},AbstractHeaderCell.prototype.handleSortTitle=function(t,e){var n;return t?this.props.sortData.dir===a.SortDirection.DESC?(n=this.i18n("table.ascending"),e="descending"):(n=this.i18n("table.descending"),e="ascending"):n=this.i18n("table.ascending"),{ariasort:e,title:this.getSortByTitle(this.props.title,n,t)}},AbstractHeaderCell.prototype.getSortByTitle=function(t,e,n){var o=this.props.sortByTitle||this.i18n("table.sortByTitle");return this.props.orderByLabelUp&&this.props.orderByLabelDown&&(o=n?this.props.sortData.dir===a.SortDirection.DESC?this.props.orderByLabelUp:this.props.orderByLabelDown:this.props.orderByLabelUp),this.i18n(o,{columnTitle:t.render?t.render():t,sortTitle:e})},AbstractHeaderCell.prototype.isSortedColumn=function(t){var e=!1;return t&&t.key&&(e=!(!this.props.keyColumn||t.key!==this.props.keyColumn)),e},AbstractHeaderCell.prototype.getTabIndexFullKind=function(){var t=this.props.contentState.firstVisibleColumnState.coordinates;return this.props.coordinates.column===t?0:-1},AbstractHeaderCell.prototype.handleChangeHiddenColumns=function(t,e,n){e.coordinates===this.props.coordinates.column&&this.tableCellRef&&(this.tableCellRef.tabIndex=0),n&&n.coordinates===this.props.coordinates.column&&this.tableCellRef&&(this.tableCellRef.tabIndex=-1)},AbstractHeaderCell.prototype.handleEditionQuit=function(t){t?this.setState({edition:!0}):this.setState({edition:!1})},AbstractHeaderCell}(r.AbstractCell);e.AbstractHeaderCell=u},455:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(4),a=n(516),r=n(401),l=n(12),c=n(517),p=i.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.abstract-cell"),u=function(t){function AbstractCell(e,n){var i=t.call(this,e,n)||this;return i.handleBlur=function(t){i.props.coordinates.isSame(t)&&i.tableCellRef&&i.blurActions(i.tableCellRef)},i.handleFocus=function(t,e){i.props.coordinates&&(i.props.coordinates.isSame(t)&&(i.tableCellRef&&(i.tableCellRef.tabIndex=-1),i.setState({isFocused:!1})),i.props.coordinates.isSame(e)&&i.setState({isFocused:!0},i.handleCellFocus(i.tableCellRef)))},i.state=o.__assign({},i.state,{isFocused:!1,isEditing:!1}),i.props.contentState.on(r.ContentState.FOCUS_CHANGE_EVENT,i.handleFocus),i.props.contentState.on(r.ContentState.BLUR_EVENT,i.handleBlur),i.handleEdition=i.handleEdition.bind(i),i.props.contentState.on(r.ContentState.EDITION_CLIC_EVENT,i.handleEdition),i}return o.__extends(AbstractCell,t),AbstractCell.prototype.shouldComponentUpdate=function(t,e){return void 0!==this.state.editable&&this.state.isEditing!==e.isEditing},AbstractCell.prototype.componentWillUnmount=function(){this.props.contentState.removeListener(r.ContentState.FOCUS_CHANGE_EVENT,this.handleFocus),this.props.contentState.removeListener(r.ContentState.BLUR_EVENT,this.handleBlur),this.props.contentState.removeListener(r.ContentState.EDITION_CLIC_EVENT,this.handleEdition)},AbstractCell.prototype.handleKeyDown=function(t){if(this.props.toggleSelectLines&&(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))this.handleKeyDownWithModifier(t);else if(this.props.navigateFct){var e=!0;switch(t.keyCode){case l.KeyCodes.RIGHT_ARROW:p.trace("Focus sur la cellule suivante de la même ligne"),this.props.navigateFct(this.props.coordinates,a.NavigateDirection.RIGHT);break;case l.KeyCodes.LEFT_ARROW:p.trace("Focus sur la cellule précédente de la même ligne"),this.props.navigateFct(this.props.coordinates,a.NavigateDirection.LEFT);break;case l.KeyCodes.DOWN_ARROW:p.trace("Focus sur la cellule suivante de la même colonne"),this.props.navigateFct(this.props.coordinates,a.NavigateDirection.BOTTOM);break;case l.KeyCodes.UP_ARROW:p.trace("Focus sur la cellule précédente de la même colonne"),this.props.navigateFct(this.props.coordinates,a.NavigateDirection.TOP);break;case l.KeyCodes.HOME:p.trace("Focus sur la première cellule de la ligne"),this.props.navigateFct(this.props.coordinates,a.NavigateDirection.HOME_COL);break;case l.KeyCodes.END:p.trace("Focus sur la dernière cellule de la ligne"),this.props.navigateFct(this.props.coordinates,a.NavigateDirection.END_COL);break;case l.KeyCodes.PAGE_UP:p.trace("Focus sur la première cellule de la colonne"),this.props.navigateFct(this.props.coordinates,a.NavigateDirection.HOME_LINE);break;case l.KeyCodes.PAGE_DOWN:p.trace("Focus sur la dernière cellule de la colonne"),this.props.navigateFct(this.props.coordinates,a.NavigateDirection.END_LINE);break;case l.KeyCodes.ENTER:if(t.target!==this.tableCellRef[this.props.coordinates.row]){e=!1;break}default:e=!1}e&&t.preventDefault()}},AbstractCell.prototype.handleKeyDownWithModifier=function(t){var e=this,n=!1;switch(t.keyCode){case l.KeyCodes.SPACEBAR:t.shiftKey&&(p.trace("Shift + Space : sélection/déselection de la ligne"),this.props.toggleSelectLines(this.props.value)),n=!0;break;case 65:n=!0,t.ctrlKey?(p.trace("Ctrl + A : sélection/déselection de toutes les lignes"),this.props.toggleSelectLines(null)):t.shiftKey&&(n=!1);break;case 67:t.ctrlKey&&(document.addEventListener("copy",function(t){var n=e.getInputValue(e.tableCellRef);e.tableCellRef&&e.tableCellRef.textContent&&!n&&(n=e.tableCellRef.textContent),t.clipboardData.setData("text/plain",n),t.preventDefault()}),document.execCommand("copy"))}n&&t.preventDefault()},AbstractCell.prototype.getInputValue=function(t){var e="";if(t&&t.children)for(var n=0;n<t.children.length;n++)e||("input"!==t.children[n].localName&&t.children[n].children?e=this.getInputValue(t.children[n]):"input"===t.children[n].localName&&(e=t.children[n].value));return e},AbstractCell.prototype.handleEdition=function(t){c(t)?(this.setState({isEditing:!1}),this.tableCellRef.removeAttribute("disabled"),this.tableCellRef.classList.remove("datatable-cell-in-edition")):t===this.props.coordinates.row?(this.setState({isEditing:t===this.props.coordinates.row}),this.tableCellRef.classList.add("datatable-cell-in-edition")):"th"===this.tableCellRef.localName?(this.tableCellRef.classList.add("is_disabled"),this.tableCellRef.classList.remove("datatable-header-sortable-column","datatable-header-sorted","datatable-header-sorted-asc")):this.tableCellRef.setAttribute("disabled","true")},AbstractCell.prototype.blurActions=function(t){AbstractCell.setCellTabIndex(t,-1)},AbstractCell.setCellTabIndex=function(t,e,n){t&&t.firstChild&&t.firstChild.focus?(t.firstChild.tabIndex=e,n&&t.firstChild.focus()):(t.tabIndex=e,n&&t.focus())},AbstractCell.prototype.handleCellFocus=function(t){t&&AbstractCell.setCellTabIndex(this.tableCellRef,0,!0)},AbstractCell.prototype.handleDoubleClick=function(t){console.log("je passe ici et je peux selectionner le text")},AbstractCell.prototype.render=function(){throw new Error("not use this render !")},AbstractCell.prototype.getTabIndex=function(){return-1},AbstractCell}(s.HornetComponent);e.AbstractCell=u},456:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(370),s=n(658),a=n(659),r=function(t){function CheckColumn(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(CheckColumn,t),CheckColumn.getBodyCell=function(t){return s.CheckBodyCell},CheckColumn.getHeaderCell=function(){return a.CheckHeaderCell},CheckColumn.defaultProps=i.Column.mergeObjects(i.Column.defaultProps,{defaultStyle:{textAlign:"center",paddingLeft:0,width:"2.5em"},sortable:!1,hiddenable:!1}),CheckColumn}(i.Column);e.CheckColumn=r,r.prototype.getBodyCell.__deprecated__=!0,r.prototype.getHeaderCell.__deprecated__=!0},457:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(t){function LineAfter(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(LineAfter,t),LineAfter}(n(522).Line);e.LineAfter=i},458:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(2),a=n(4),r=n(401),l=n(459),c=i.Logger.getLogger("hornet-js-components.widget.table.footer"),p=function(t){function Footer(e,n){var i=t.call(this,e,n)||this;return i.state=o.__assign({},i.state,{i18n:i.i18n("table")}),i.props.contentState.setMaxListeners(1/0),i.handleEdition=i.handleEdition.bind(i),i.props.contentState.on(r.ContentState.EDITION_CLIC_EVENT,i.handleEdition),i}return o.__extends(Footer,t),Footer.prototype.componentWillUnmount=function(){this.props.contentState.removeListener(r.ContentState.EDITION_CLIC_EVENT,this.handleEdition)},Footer.prototype.handleEdition=function(t){this.setState({disabled:null!=t})},Footer.prototype.render=function(){c.debug("Footer render");var t={className:this.state.className,disabled:this.state.disabled};return s.createElement("div",o.__assign({},t),this.setChildrenDisabled())},Footer.prototype.setChildrenDisabled=function(){var t=this,e=[];return s.Children.map(this.props.children,function(n,i){if(n.type===l.Pager){var a=n.props,r=o.__assign({},a,{disabled:t.state.disabled,key:"footer-element-"+i});e.push(s.createElement(l.Pager,r))}else e.push(n.props.children)}),e},Footer.defaultProps={className:"hornet-datatable-bottom"},Footer}(a.HornetComponent);e.Footer=p},459:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(662),s=n(148),a=n(1),r=n(2),l=n(4),c=n(51),p=n(11),u=n(12),d=n(10);n(663);var h=a.Logger.getLogger("hornet-js-components.widget.pager.pager");e.ITEMS_PER_PAGE_ALL=2147483647;var m=function(t){function Pager(n,i){var s=t.call(this,n,i)||this;return s.defaultPageSizeSelect=[{value:10,textKey:s.i18n("table.10")},{value:20,textKey:s.i18n("table.20")},{value:50,textKey:s.i18n("table.50")},{value:100,textKey:s.i18n("table.100")},{value:e.ITEMS_PER_PAGE_ALL,textKey:s.i18n("table.displayAll"),title:s.i18n("table.pager.titleItemAll")}],s.state=o.__assign({},s.state,{i18n:s.i18n("table"),pagination:o.__assign({},s.props.dataSource.pagination),summary:s.i18n(s.props.summary)}),s}return o.__extends(Pager,t),Pager.prototype.componentDidMount=function(){var e=this;t.prototype.componentDidMount.call(this),this.props.dataSource.on("fetch",this.updateOnFetch),this.props.dataSource.on("pagination",function(t){e.tableInputPager&&t.pagination&&(e.tableInputPager.value=t.pagination.pageIndex);var n=o.__assign({},t.pagination);e.setState({pagination:n})})},Pager.prototype.componentWillUnmount=function(){var e=this;t.prototype.componentWillUnmount.call(this),this.props.dataSource&&(this.props.dataSource.removeListener("fetch",this.updateOnFetch),this.props.dataSource.removeListener("pagination",function(t){var n=o.__assign({},t.pagination);e.setState({pagination:n})}))},Pager.prototype.shouldComponentUpdate=function(t,e){var n=this.state.pagination.pageIndex!==e.pagination.pageIndex&&""!==e.pagination.pageIndex||this.state.pagination.itemsPerPage!==e.pagination.itemsPerPage||this.state.pagination.totalItems!==e.pagination.totalItems||this.state.disabled!==e.disabled;return h.trace("shouldComponentUpdate",n),n},Pager.prototype.updateOnFetch=function(t){this.setState({pagination:t&&0!==t.length?o.__assign({},this.props.dataSource.pagination):{}}),this.tableInputPager&&(this.tableInputPager.value=this.state.pagination.pageIndex)},Pager.prototype.render=function(){h.debug("Pager render : ",this.props.id),h.trace("render");var t={"datatable-pagination":!0};this.state.className&&(t[this.state.className]=!0);var e={className:d(t),id:this.props.id,disabled:this.state.disabled,key:"pagerTable-"+this.props.id};return this.state.pagination.pageIndex?r.createElement("div",o.__assign({},e),this.renderSelectItemsPerPage(),this.getButtons()):r.createElement("div",null)},Pager.prototype.renderSelectItemsPerPage=function(){var t=this;h.trace("renderSelectItemsPerPage");var e=this.state.pageSizeSelect||this.defaultPageSizeSelect,n=[];e.map(function(e,i){var s=!1;t.state.pagination.itemsPerPage===e.value&&(s=!0),n.push({label:t.i18n(e.textKey,t.state),action:t.onFormChange.bind(t,e.value,!1),className:"material-dropdown-menu__link",disabled:s,key:t.props.id+"dropdownmenu-"+i,title:t.i18n(e.title?e.title:"table.pager.titleItem",o.__assign({},e,{summary:t.state.summary}))})});var i={value:0,textKey:""};if(this.state.pagination.itemsPerPage)for(var s=0;s<e.length;s++){var a=e[s];a.value===this.state.pagination.itemsPerPage&&(i=a)}var l="label-"+this.props.id+"drop";return r.createElement("div",{key:"pagerTableDropDownContainer-"+this.props.id},r.createElement("span",{className:"labelPager",id:l},this.state.i18n.pageFooter),r.createElement("div",{className:"datatable-pagination-content",key:"pagerTableDropDownSubContainer-"+this.props.id},r.createElement(c.Dropdown,{items:n,srcImg:r.createElement(p.SvgSprites,{icon:"carretDown"}),id:this.props.id+"-drop",valueCurrent:this.state.pagination.itemsPerPage,label:i.textKey,ariaLabel:this.state.i18n.pageFooter+" "+this.state.pagination.itemsPerPage,disabled:this.state.disabled,position:c.Position.TOPLEFT,title:this.i18n(this.state.dropDownTitle,this.state),ariaLabelledById:l,key:"dropDownTable-"+this.props.id})))},Pager.getTotalPages=function(t,e){return Math.max(1,Math.ceil(t/e))||0},Pager.prototype.getButtons=function(){var t,e,n,o;h.trace("getButtons"),t=e=n=1;var i=this.state.pagination.totalItems,s=this.state.pagination.itemsPerPage,a=this.state.pagination.pageIndex,r=Pager.getTotalPages(i,s);o=r,a>r&&(a=1);var l=!1,c=!1;i>s&&r>1&&(a>1&&(e=Number(a)-1,l=!0),a<r&&(n=Number(a)+1,c=!0));var p={firstPage:t,totalPages:r,nextPage:n,prevPage:e,summary:this.state.summary};return[this.renderButton(this.i18n(this.state.firstPageTitle,p),t,l,"firstPage","first"),this.renderButton(this.i18n(this.state.previousPageTitle,p),e,l,"prevPage","previous"),this.renderPageInput(t,o,this.i18n(this.state.inputLabelTitle,{summary:this.state.summary})),this.renderButton(this.i18n(this.state.nextPageTitle,p),n,c,"nextPage","next"),this.renderButton(this.i18n(this.state.lastPageTitle,p),o,c,"lastPage","last")]},Pager.prototype.renderButton=function(t,e,n,o,i){var s=this;h.trace("renderButton");var a="datatable-pagination-button datatable-pagination-button-"+o.toLowerCase();return a+=n?" datatable-pagination-control-enabled":" datatable-pagination-control-disabled",r.createElement("button",{type:"button",className:a,onClick:function(){s.props.dataSource.goToPage(e),s.tableInputPager.value=e},disabled:!n||this.state.disabled,key:this.props.id+"-"+o,title:t},r.createElement(p.SvgSprites,{icon:i,tabIndex:-1}))},Pager.prototype.renderPageInput=function(t,e,n){var o=this,i=this.state.pagination.pageIndex,s=!i||i<1?1:i,a=this.state.showTotalPage?"datatable-pagination-input datatable-pagination-with-total":"datatable-pagination-input";return r.createElement("div",{key:"pagerTablePageInputContainer-"+this.props.id},r.createElement("span",{id:this.props.id+"-label",className:"datatable-pagination-input-label",key:"labelNumPage-"+this.props.id},n),r.createElement("input",{defaultValue:s,type:this.isMobile()?"tel":"number",min:this.isMobile()?void 0:t,max:this.isMobile()?void 0:e,className:a,ref:function(t){o.tableInputPager=t},name:"tableInputPager",onChange:this.handleChangeValue,onKeyDown:this.handleInputKeyDown,key:"numPage-"+this.props.id,"aria-labelledby":this.props.id+"-label",title:n}),this.state.showTotalPage?r.createElement("span",{className:"datatable-pagination-total-page"},"/ ",e):null)},Pager.prototype.handleInputKeyDown=function(t){if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)){var e=t.keyCode;if(this.isMobile()&&u.KeyCodes.TAB===e||u.KeyCodes.SPACEBAR===e||u.KeyCodes.ENTER===e){this.tableInputPager.value>=1&&this.tableInputPager.value<=Pager.getTotalPages(this.state.pagination.totalItems,this.state.pagination.itemsPerPage)?(this.props.dataSource.goToPage(this.tableInputPager.value),this.tableInputPager.value=this.tableInputPager.value):this.tableInputPager.value=this.state.pagination.pageIndex;var n=o.__assign({},this.state.pagination);n.pageIndex=this.tableInputPager.value,this.setState({pagination:n})}}},Pager.prototype.handleChangeValue=function(t){var e=o.__assign({},this.state.pagination),n=Pager.getTotalPages(this.state.pagination.totalItems,this.state.pagination.itemsPerPage);e.pageIndex=i(t.target.valueAsNumber)?"":t.target.valueAsNumber,s(e.pageIndex)&&e.pageIndex<1&&(e.pageIndex=1,this.tableInputPager.value=1),e.pageIndex>n&&(e.pageIndex=this.tableInputPager.value=n)},Pager.prototype.onFormChange=function(t,e){h.trace("onFormChange"),e?(this.props.dataSource.goToPage(t),this.tableInputPager.value=t):(this.props.dataSource.updatePerPage(t),this.tableInputPager.value=1)},Pager.prototype.setClassName=function(t,e){return this.setState({className:t},e),this},Pager.prototype.setMessage=function(t,e){return this.setState({message:t},e),this},Pager.prototype.setPageSizeSelect=function(t,e){return this.setState({pageSizeSelect:t},e),this},Pager.defaultProps={message:l.HornetComponent.getI18n("table"),className:"",nextPageTitle:"table.nextPage",lastPageTitle:"table.lastPage",previousPageTitle:"table.prevPage",firstPageTitle:"table.firstPage",summary:"table.pagerSummary",inputLabelTitle:"table.pager.inputLabel",dropDownTitle:"table.pager.dropdownTitle",showTotalPage:!1},Pager}(l.HornetComponent);e.Pager=m},515:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(2),s=n(1),a=n(4),r=n(376),l=n(134),c=n(47);n(85);var p=s.Logger.getLogger("hornet-js-react-components.widget.dialog.confirm"),u=function(t){function Confirm(e,n){return t.call(this,e,n)||this}return o.__extends(Confirm,t),Confirm.prototype.setTitle=function(t,e){return this.setState({title:t},e),this},Confirm.prototype.setMessage=function(t,e){return this.setState({message:t},e),this},Confirm.prototype.setOnClickOk=function(t,e){return this.setState({onClickOk:t},e),this},Confirm.prototype.setOnClickCancel=function(t,e){return this.setState({onClickCancel:t},e),this},Confirm.prototype.setOnClickClose=function(t,e){return this.setState({onClickClose:t},e),this},Confirm.prototype.open=function(t){return this.setState({isVisible:!0},t),this},Confirm.prototype.close=function(t){return this.setState({isVisible:!1},t),this},Confirm.prototype.render=function(){if(p.debug("Confirm render : ",this.state.dialogId?this.state.dialogId:this.state.title),!this.state.isVisible)return null;var t=this.state.notificationId||"nConfirm";return i.createElement(l.Modal,{alert:!0,isVisible:!0,onClickClose:this.state.onClickClose,underlayClickExits:this.state.underlayClickExits,escapeKeyExits:this.state.escapeKeyExits,title:this.state.title,dialogId:this.state.dialogId},i.createElement(c.Notification,{id:t}),i.createElement("div",{className:"widget-alert-body",id:"widget-alert-body"},this.state.message),i.createElement("div",{className:"widget-dialogue-footer"},this.renderButtons()))},Confirm.prototype.renderButtons=function(){return i.createElement("div",{className:"grid has-gutter hornet-alert-buttons button-group"},i.createElement(r.Button,o.__assign({},this.configOKButton())),i.createElement(r.Button,o.__assign({},this.configCancelButton())))},Confirm.prototype.configOKButton=function(){return{type:"button",id:"confirmOK",name:"action:validMessage",value:"Valider",className:"hornet-button hornet-alert-button-ok",label:this.getValid(),title:this.getValidTitle(),onClick:this.state.onClickOk}},Confirm.prototype.configCancelButton=function(){return{type:"button",id:"confirmCancel",name:"action:annulerMessage",value:"Annuler",className:"hornet-button hornet-alert-button-cancel",label:this.getCancel(),title:this.getCancelTitle(),onClick:this.state.onClickCancel}},Confirm.prototype.getValid=function(){return this.state.valid||this.i18n("form.valid")},Confirm.prototype.getCancel=function(){return this.state.cancel||this.i18n("form.cancel")},Confirm.prototype.getValidTitle=function(){return this.state.validTitle||this.i18n("form.validTitle")},Confirm.prototype.getCancelTitle=function(){return this.state.cancelTitle||this.i18n("form.cancelTitle")},Confirm.defaultProps={isVisible:!1,underlayClickExits:!1,escapeKeyExits:!0},Confirm}(a.HornetComponent);e.Confirm=u},516:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.RIGHT=0]="RIGHT",t[t.LEFT=1]="LEFT",t[t.TOP=2]="TOP",t[t.BOTTOM=3]="BOTTOM",t[t.HOME_LINE=4]="HOME_LINE",t[t.END_LINE=5]="END_LINE",t[t.HOME_COL=6]="HOME_COL",t[t.END_COL=7]="END_COL"}(e.NavigateDirection||(e.NavigateDirection={}))},517:function(t,e){t.exports=function isNull(t){return null===t}},518:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(379),a=n(2),r=n(421),l=n(12),c=n(517),p=n(10),u=n(11),d=i.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.action.action-body-cell"),h=function(t){function ActionBodyCell(e,n){var i=t.call(this,e,n)||this;return i.disabled=!1,i.state=o.__assign({},i.state,{hasPopUp:i.props.messageAlert,visible:i.isVisible()}),i}return o.__extends(ActionBodyCell,t),ActionBodyCell.prototype.shouldComponentUpdate=function(e,n){return t.prototype.shouldComponentUpdate.call(this,e,n)||this.calculVisiblity(e)!==this.state.visible||this.props.value&&e.value&&this.props.value[this.props.keyShouldComponentUpdate]!==e.value[this.props.keyShouldComponentUpdate]},ActionBodyCell.prototype.isVisible=function(){return this.calculVisiblity(this.props)},ActionBodyCell.prototype.calculVisiblity=function(t){return!t.visible||"function"!=typeof t.visible||t.visible(t.value)},ActionBodyCell.prototype.renderCell=function(){d.debug("render ActionBodyCell-> column:",this.props.coordinates.column," - line:",this.props.coordinates.row),this.title=this.getCellTitleWithProps(this.props);var t={"button-action":!0,"picto-svg":!0};this.state.className&&(t[this.state.className]=!0),this.disabled="function"==typeof this.state.disabled?this.state.disabled(this.props.value):this.state.disabled;var e={href:this.props.url&&this.genUrlWithParams(this.props.url,this.props.value)||"#",className:p.default(t),title:this.state.titleCell instanceof Function?this.state.titleCell(this.props.value):this.state.titleCell?this.state.titleCell:this.title,onMouseDown:this.onClick,disabled:this.props.contentState.itemInEdition&&!1===this.state.isEditing||this.disabled,tabIndex:-1,onKeyDown:this.handleKeyDownButton,role:"button"},n=null;return"string"==typeof this.props.srcImg?n=a.createElement(u.SvgSprites,{icon:this.state.srcImg,ariaLabel:e.title,tabIndex:-1}):this.props.srcImg&&(n=a.createElement(this.props.srcImg.type,o.__assign({},this.props.srcImg.props,{tabIndex:-1,ariaLabel:e.title}))),this.props.messageAlert&&(this.inferedAlertMessage=this.props.messageAlert&&new r.Template(this.props.messageAlert).process(this.props.value,this.props.replaceUndef||"?"),this.inferedAlertTitle=this.props.messageAlert&&new r.Template(this.props.titleAlert).process(this.props.value,this.props.replaceUndef||"?")),this.state=o.__assign({},this.state,{visible:this.isVisible()}),this.isVisible()?a.createElement("a",o.__assign({},e),n,this.state.label?a.createElement("span",{className:"label-button-action"},this.state.label):null):null},ActionBodyCell.prototype.handleKeyDownButton=function(t){t.keyCode!==l.KeyCodes.ENTER&&t.keyCode!==l.KeyCodes.SPACEBAR||(t.preventDefault(),t.stopPropagation(),!this.disabled&&!this.state.isEditing&&this.onClick(t))},ActionBodyCell.prototype.getCellTitleWithProps=function(t){return t.alt||t.title?this.i18n(t.alt||t.title,t.value):null},ActionBodyCell.prototype.onClick=function(t){var e=this;if((!t.button||t.button&&2!==t.button)&&!this.disabled)if(this.props.messageAlert)t.persist(),t.stopPropagation(),setTimeout(function(){e.props.showAlert(e.inferedAlertMessage,e.inferedAlertTitle,function(){e.onAction(t)})},150);else if(t.button&&1===t.button&&this.state.url){var n=this.props.url&&this.genUrlWithParams(this.props.url,this.props.value);window.open(n,"_blank")}else this.onAction(t)},ActionBodyCell.prototype.onAction=function(t){this.state.url?window.location.href=this.props.url&&this.genUrlWithParams(this.props.url,this.props.value):this.props.action&&this.props.action(this.props.value,t)},ActionBodyCell.prototype.handleEdition=function(t){c(t)?(this.setState({isEditing:!1}),this.tableCellRef.removeAttribute("disabled"),this.tableCellRef.classList.remove("datatable-cell-in-edition")):t===this.props.coordinates.row?(this.setState({isEditing:t===this.props.coordinates.row}),this.tableCellRef.classList.add("datatable-cell-in-edition"),this.tableCellRef.setAttribute("disabled","true")):"th"===this.tableCellRef.localName?(this.tableCellRef.classList.add("is_disabled"),this.tableCellRef.classList.remove("datatable-header-sortable-column","datatable-header-sorted","datatable-header-sorted-asc")):this.tableCellRef.setAttribute("disabled","true")},ActionBodyCell.defaultProps={keyShouldComponentUpdate:"id"},ActionBodyCell}(s.AbstractBodyCell);e.ActionBodyCell=h},519:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(2),a=n(454),r=i.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.action.action-header-cell"),l=function(t){function ActionHeaderCell(e,n){return t.call(this,e,n)||this}return o.__extends(ActionHeaderCell,t),ActionHeaderCell.prototype.renderCell=function(){return r.debug("render ActionHeaderCell-> column:",this.props.coordinates.column," - line:",this.props.coordinates.row),this.state.abbr?s.createElement("abbr",{lang:this.state.lang,title:this.state.abbr},this.state.title):this.state.title},ActionHeaderCell}(a.AbstractHeaderCell);e.ActionHeaderCell=l},520:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(370),s=n(657),a=n(519),r=function(t){function EditionActionColumn(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(EditionActionColumn,t),EditionActionColumn.getHeaderCell=function(){return a.ActionHeaderCell},EditionActionColumn.getBodyCell=function(t){return s.EditionActionBodyCell},EditionActionColumn.defaultProps=i.Column.mergeObjects(i.Column.defaultProps,{defaultStyle:{width:"4em"},sortable:!1,hiddenable:!1}),EditionActionColumn}(i.Column);e.EditionActionColumn=r,r.prototype.getBodyCell.__deprecated__=!0,r.prototype.getHeaderCell.__deprecated__=!0},521:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(t){function LineBefore(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(LineBefore,t),LineBefore}(n(522).Line);e.LineBefore=i},522:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(2),s=n(4),a=n(1).Logger.getLogger("hornet-js-components.widget.table.line"),r=function(t){function Line(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(Line,t),Line.prototype.render=function(){return a.debug("Line render"),i.createElement("div",null)},Line.defaultProps={displayed:!1},Line}(s.HornetComponent);e.Line=r},649:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(t){function TableButtonInfoAccessibilite(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(TableButtonInfoAccessibilite,t),TableButtonInfoAccessibilite.defaultProps={message:TableButtonInfoAccessibilite.getI18n("table"),shortcutDescriptions:[{shortcuts:["←","↑","→","↓"],description:TableButtonInfoAccessibilite.getI18n("table.shortcuts.navigation"),or:!0},{shortcuts:["⇞"],and:!0,description:TableButtonInfoAccessibilite.getI18n("table.shortcuts.firstLine")},{shortcuts:["⇟"],description:TableButtonInfoAccessibilite.getI18n("table.shortcuts.lastLine"),or:!0},{shortcuts:["↖"],description:TableButtonInfoAccessibilite.getI18n("table.shortcuts.lineBeginning")},{shortcuts:["Fin"],description:TableButtonInfoAccessibilite.getI18n("table.shortcuts.lineEnd")},{shortcuts:["Ctrl","A"],and:!0,description:TableButtonInfoAccessibilite.getI18n("table.shortcuts.selectAll")},{shortcuts:["Shift","Space"],and:!0,description:TableButtonInfoAccessibilite.getI18n("table.shortcuts.selectCurrentLine")}],color:"#ffffff",height:"1.7em",width:"1.7em"},TableButtonInfoAccessibilite}(n(151).ButtonInfoAccessibilite);e.TableButtonInfoAccessibilite=i},650:function(t,e,n){},651:function(t,e,n){(function(e){var n=1/0,o=17976931348623157e292,i=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),m=Object.prototype.toString,g=h.Symbol,C=Math.min,f=g?g.prototype:void 0,b=f?f.toString:void 0;function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function isSymbol(t){return"symbol"==typeof t||function isObjectLike(t){return!!t&&"object"==typeof t}(t)&&m.call(t)==s}function toNumber(t){if("number"==typeof t)return t;if(isSymbol(t))return i;if(isObject(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=isObject(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=l.test(t);return n||c.test(t)?p(t.slice(2),n?2:8):r.test(t)?i:+t}function toString(t){return null==t?"":function baseToString(t){if("string"==typeof t)return t;if(isSymbol(t))return b?b.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}(t)}var y=function createRound(t){var e=Math[t];return function(t,i){if(t=toNumber(t),i=C(function toInteger(t){var e=function toFinite(t){if(!t)return 0===t?t:0;if((t=toNumber(t))===n||t===-n){var e=t<0?-1:1;return e*o}return t==t?t:0}(t),i=e%1;return e==e?i?e-i:e:0}(i),292)){var s=(toString(t)+"e").split("e");return+((s=(toString(e(s[0]+"e"+(+s[1]+i)))+"e").split("e"))[0]+"e"+(+s[1]-i))}return e(t)}}("round");t.exports=y}).call(this,n(5))},652:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(2),s=n(84),a=n(1),r=n(10);n(653);var l=a.Logger.getLogger("hornet-js-react-components.widget.table.spinner-table"),c=function(t){function SpinnerLoader(e,n){return t.call(this,e,n)||this}return o.__extends(SpinnerLoader,t),SpinnerLoader.prototype.render=function(){return l.debug("SpinnerLoader render"),this.state.isVisible?this.renderLoader():null},SpinnerLoader.prototype.renderLoader=function(){var t={"datatable-loader":this.state.isVisible&&this.count>0,"datatable-loaded":!this.state.isVisible},e={"datatable-line-loader":!0};return e[this.props.className+"-line-loader"]=!0,e[this.props.className+"-tr-with-colspan"]=!0,i.createElement("tr",{className:r.default(e)},i.createElement("th",{colSpan:this.state.nbColumns,style:{width:this.props.width+SpinnerLoader.UNIT_SIZE}},i.createElement("div",{className:r.default(t)})))},SpinnerLoader}(s.SpinnerComponent);e.SpinnerLoader=c;var p=function(t){function SpinnerOverlay(e,n){var o=t.call(this,e,n)||this;return o.visibilityChange=!1,o}return o.__extends(SpinnerOverlay,t),SpinnerOverlay.prototype.componentWillUpdate=function(t,e,n){this.state.isVisible!==e.isVisible&&!1===e.isVisible&&(this.visibilityChange=!0)},SpinnerOverlay.prototype.componentDidUpdate=function(t,e,n){this.visibilityChange&&(this.props.onHideSpinner&&this.props.onHideSpinner(),this.visibilityChange=!1)},SpinnerOverlay.prototype.render=function(){var t={};return this.state.isVisible&&this.count>0&&(t={className:r.default({"datatable-overlay":this.state.isVisible&&this.count>0})}),i.createElement("div",o.__assign({},t))},SpinnerOverlay}(s.SpinnerComponent);e.SpinnerOverlay=p},653:function(t,e,n){},654:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(2),a=n(454),r=n(12),l=n(375),c=n(11);n(402);var p=i.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.header-cell"),u=function(t){function HeaderCell(e,n){return t.call(this,e,n)||this}return o.__extends(HeaderCell,t),HeaderCell.prototype.shouldComponentUpdate=function(e,n){return t.prototype.shouldComponentUpdate.call(this,e,n)||n.isFocused===this.state.isFocused},HeaderCell.prototype.renderCell=function(){p.debug("render HeaderCell -> column:",this.props.coordinates.column," - line:",this.props.coordinates.row);var t=this.isSortedColumn(this.props.sortData),e=s.createElement(c.SvgSprites,{icon:"arrowUpward",color:"#000",tabIndex:-1});this.state.sortData&&this.state.sortData.dir===l.SortDirection.DESC&&(e=s.createElement(c.SvgSprites,{icon:"arrowDownward",color:"#000",tabIndex:-1}));this.handleSortTitle(this.isSortedColumn(this.props.sortData),"none").title;var n=t&&this.state.edition?s.createElement("div",null,this.props.title,e):s.createElement("div",null,this.props.title);return this.props.sortable&&!this.props.contentState.itemInEdition&&(n=this.getColumnTriComponent()),n},HeaderCell.prototype.getColumnTriComponent=function(){var t=this;p.trace("getColumnTriComponent");var e=this.props.sortData,n=e&&e.key||this.props.keyColumn,i=l.SortDirection.ASC,a=e&&e.key||null,u=this.state.sort&&this.state.sort.key||null;!a||a!==this.props.keyColumn&&a!==u||(p.trace("sens de tri courant :",e.dir),i=e.dir===l.SortDirection.ASC?l.SortDirection.DESC:l.SortDirection.ASC,p.trace("prochain sens de tri :",i));var d={key:n,dir:i};this.state.abbr&&!this.state.lang&&p.warn("Column ",this.props.keyColumn," Must have lang with abbr configuration");var h=s.createElement(c.SvgSprites,{icon:"arrowUpward",color:"#000",tabIndex:-1});this.state.sortData&&this.state.sortData.dir===l.SortDirection.DESC&&(h=s.createElement(c.SvgSprites,{icon:"arrowDownward",color:"#000",tabIndex:-1}));var m=this.handleSortTitle(this.isSortedColumn(this.props.sortData),"none"),g={"aria-sort":m.ariasort,className:"datatable-header-sort-liner",role:"button",lang:this.state.lang,onClick:function(e){t.state.onSort(d,t.tableCellRef,t.props.compareMethod)},onKeyDown:function(e){e.keyCode!==r.KeyCodes.SPACEBAR&&e.keyCode!==r.KeyCodes.ENTER||(t.state.onSort(d,t.tableCellRef),e.preventDefault())},tabIndex:this.getTabIndexFullKind(),title:m.title};return s.createElement("div",o.__assign({},g),this.state.edition?s.createElement("div",null,this.state.abbr?s.createElement("abbr",{lang:this.state.lang,title:this.state.abbr},this.state.title):this.state.title):s.createElement("div",{className:"arrow-sort-container",tabIndex:-1},this.state.abbr?s.createElement("abbr",{lang:this.state.lang,title:this.state.abbr},this.state.title):this.state.title,h))},HeaderCell.defaultProps={sort:!1},HeaderCell}(a.AbstractHeaderCell);e.HeaderCell=u},655:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(379),a=i.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.body-cell"),r=function(t){function BodyCell(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(BodyCell,t),BodyCell.prototype.renderCell=function(){return a.debug("render BodyCell -> column:",this.props.coordinates.column," - line:",this.props.coordinates.row,"- isFocused:",this.state.isFocused,"- tabIndex:",this.state.tabIndex),this.state.value},BodyCell}(s.AbstractBodyCell);e.BodyCell=r},656:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(379),a=n(2),r=n(386),l=i.Logger.getLogger("hornet-js-react-components.widget.table.input-text-in-line-body-cell"),c=function(t){function InputTextInLineBodyCell(e,n){var i=t.call(this,e,n)||this;return i.state=o.__assign({},i.state,{value:e.value[e.keyColumn]}),i}return o.__extends(InputTextInLineBodyCell,t),InputTextInLineBodyCell.prototype.shouldComponentUpdate=function(e,n){return t.prototype.shouldComponentUpdate.call(this,e,n)||n.isEditing!==this.state.isEditing},InputTextInLineBodyCell.prototype.renderCell=function(){l.debug("render InputTextBodyCell-> column:",this.props.coordinates.column," - line:",this.props.coordinates.row);var t={name:this.state.keyColumn,hideError:!0,className:"table-cell-input",groupClass:"table-cell-container",type:"text",currentValue:this.state.value,title:this.state.title};return this.state.isEditing?a.createElement(r.InputField,o.__assign({},t)):this.state.value},InputTextInLineBodyCell.prototype.getCellTitle=function(){return this.state.isEditing?"":this.state.value},InputTextInLineBodyCell.prototype.handleCellFocus=function(t){t&&(this.state.isEditing?t instanceof HTMLInputElement?t.focus():t.children&&this.handleCellFocus(t.children[0]):t.focus())},InputTextInLineBodyCell}(s.AbstractBodyCell);e.InputTextInLineBodyCell=c},657:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(379),a=n(2),r=n(133),l=n(12),c=n(421),p=n(10),u=n(11);n(402);var d=i.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.action.edition-action-body-cell"),h=function(t){function EditionActionBodyCell(e,n){var i=t.call(this,e,n)||this;return i.focusEdition=!1,i.onClick=function(t){1===i.buttonsRef.indexOf(t.currentTarget)&&i.props.messageAlert&&i.props.showAlert?(t.stopPropagation(),i.props.showAlert(i.state.messageAlert,i.state.titleAlert,i.setItemInEdition),i.focusEdition=!0):i.setItemInEdition()},i.state=o.__assign({},i.state,{submitFocused:!1,visible:!e.visible||i.props.visible(e.value),messageAlert:e.messageAlert&&new c.Template(e.messageAlert).process(e.value,e.replaceUndef||"?"),titleAlert:e.messageAlert&&new c.Template(e.titleAlert).process(e.value,e.replaceUndef||"?")}),i}return o.__extends(EditionActionBodyCell,t),EditionActionBodyCell.prototype.shouldComponentUpdate=function(e,n){return t.prototype.shouldComponentUpdate.call(this,e,n)||n.isEditing!==this.state.isEditing},EditionActionBodyCell.prototype.componentDidUpdate=function(e,n,o){t.prototype.componentDidUpdate.call(this,e,n,o),this.editionButton&&this.focusEdition&&this.editionButton.focus&&(this.editionButton.focus(),this.focusEdition=!1)},EditionActionBodyCell.prototype.renderCell=function(){d.debug("render EditableActionBodyCell-> column:",this.props.coordinates.column," - line:",this.props.coordinates.row);var t={"edition-button-action":!0,"button-action":!0};return this.state.className&&(t[this.state.className]=!0),this.buttonsRef=[],this.state.visible?this.state.isEditing?this.renderSaveCancelBoutton(t):this.renderEditionBoutton({"button-action":!0,"edition-button-action-before":!0}):null},EditionActionBodyCell.prototype.getCellTitle=function(){return""},EditionActionBodyCell.prototype.handleKeyDownButton=function(t){t.keyCode!==l.KeyCodes.ENTER&&t.keyCode!==l.KeyCodes.SPACEBAR||(t.preventDefault(),t.stopPropagation(),!this.state.isEditing&&this.onClick(t))},EditionActionBodyCell.prototype.setItemInEdition=function(){r.NotificationManager.cleanAll(),this.props.contentState.setItemInEdition(this.state.isEditing?null:this.props.value,this.state.isEditing?null:this.props.coordinates.row),this.state.isEditing&&this.props.handleCancel&&this.props.handleCancel(this.props.value,this.props.coordinates.row)},EditionActionBodyCell.prototype.renderEditionBoutton=function(t){var e=this;return a.createElement("a",{ref:function(t){e.editionButton=t},className:p.default(t),title:this.i18n(this.state.titleEdit,this.props.value),"aria-label":this.i18n(this.state.titleEdit,this.props.value),onClick:this.onClick,tabIndex:-1,onKeyDown:this.handleKeyDownButton,role:"button"},a.createElement(u.SvgSprites,{icon:"quickEdit",color:"#0579be",width:"2em",height:"2em",tabIndex:-1}))},EditionActionBodyCell.prototype.renderSaveCancelBoutton=function(t){var e=this;return a.createElement("div",{onKeyDown:this.switchFocus},a.createElement("button",{ref:function(t){e.setButtonsRef(t)},className:p.default(t),title:this.state.titleSave,"aria-label":this.state.titleSave,type:"submit",tabIndex:0},a.createElement(u.SvgSprites,{icon:"registerEdit",color:"#006400",width:"2em",height:"2em",tabIndex:-1})),a.createElement("button",{ref:function(t){e.setButtonsRef(t)},className:p.default(t),title:this.state.titleCancel,"aria-label":this.state.titleCancel,onClick:this.onClick,type:"button",tabIndex:0},a.createElement(u.SvgSprites,{icon:"cancelEdit",color:"#D60000",width:"2em",height:"2em",tabIndex:-1})))},EditionActionBodyCell.prototype.setButtonsRef=function(t){t&&this.buttonsRef.push(t)},EditionActionBodyCell.prototype.switchFocus=function(t){t.stopPropagation();this.state.isEditing?t.keyCode===l.KeyCodes.RIGHT_ARROW&&this.state.submitFocused?this.buttonsRef[1].focus():t.keyCode!==l.KeyCodes.LEFT_ARROW||this.state.submitFocused?this.handleKeyDown(t):this.buttonsRef[0].focus():this.handleKeyDown(t),this.setState({submitFocused:!this.state.submitFocused})},EditionActionBodyCell.prototype.handleCellFocus=function(t){-1===this.buttonsRef.indexOf(document.activeElement)&&(t instanceof HTMLButtonElement||"A"===t.tagName?(this.setState({submitFocused:"submit"===t.getAttribute("type")}),t.focus()):t&&t.children&&this.handleCellFocus(t.children[0]))},EditionActionBodyCell}(s.AbstractBodyCell);e.EditionActionBodyCell=h},658:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(399),s=n(1),a=n(379),r=n(420),l=n(2),c=s.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.check.check-body-cell"),p=function(t){function CheckBodyCell(e,n){var o=t.call(this,e,n)||this;return o.handleToggleCheckBox=function(t){o.props.toggleSelectLines(o.props.value),t.stopPropagation()},o.handleChange=function(t){c.trace("checkbodycell => handlChange",o.props.coordinates);var e=o.props.contentState.getFocusedCell()&&o.props.contentState.getFocusedCell().column===o.props.coordinates.column&&o.props.contentState.getFocusedCell().row===o.props.coordinates.row;o.checkBoxBodyRef&&(-1!==i.ArrayUtils.getIndexById(t,o.props.value)?o.setState({isSelected:!0},function(){e&&o.props.contentState.setFocusOn(o.props.coordinates)}):o.setState({isSelected:!1},function(){e&&o.props.contentState.setFocusOn(o.props.coordinates)}))},o.props.dataSource.on("select",o.handleChange),o}return o.__extends(CheckBodyCell,t),CheckBodyCell.prototype.shouldComponentUpdate=function(e,n){return t.prototype.shouldComponentUpdate.call(this,e,n)||n.isSelected!==this.state.isSelected||n.isEditing!==this.state.isEditing},CheckBodyCell.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.props.dataSource.removeListener("select",this.handleChange)},CheckBodyCell.prototype.componentWillReceiveProps=function(t){this.state=o.__assign({},this.state,t)},CheckBodyCell.prototype.renderCell=function(){var t=this;c.debug("render checkBodyCell-> column:",this.props.coordinates.column," - line:",this.props.coordinates.row);var e=this.state.isSelected?this.props.altUnselect:this.props.altSelect,n={ref:function(e){t.checkBoxBodyRef=e},onChange:this.handleToggleCheckBox,key:this.props.keyColumn+"-"+this.state.isSelected,checked:this.state.isSelected,name:"selectedItems-"+this.props.keyColumn,tabIndex:-1,disabled:this.setDisabled(),title:e&&this.i18n(e,this.props.value)};return l.createElement(r.CheckBox,o.__assign({},n))},CheckBodyCell.prototype.setDisabled=function(){return void 0!==this.props.contentState.itemInEdition&&null!==this.props.contentState.itemInEdition},CheckBodyCell.prototype.getCellTitle=function(){return""},CheckBodyCell.prototype.blurActions=function(t){t instanceof HTMLInputElement?t.tabIndex=-1:t.children&&this.blurActions(t.children[0])},CheckBodyCell.prototype.handleCellFocus=function(t){t&&(t instanceof HTMLInputElement?(t.focus(),t.tabIndex=0):t.children&&this.handleCellFocus(t.children[0]))},CheckBodyCell}(a.AbstractBodyCell);e.CheckBodyCell=p},659:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(454),a=n(420),r=n(2),l=n(399),c=i.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.check.check-header-cell"),p=function(t){function CheckHeaderCell(e,n){var o=t.call(this,e,n)||this;return o.handleChange=o.handleChange.bind(o),o.props.dataSource.on("select",o.handleChange),o}return o.__extends(CheckHeaderCell,t),CheckHeaderCell.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.props.dataSource.removeListener("select",this.handleChange)},CheckHeaderCell.prototype.componentWillReceiveProps=function(t){this.state=o.__assign({},this.state,t)},CheckHeaderCell.prototype.renderCell=function(){var t=this;c.debug("render CheckHeaderCell-> column:",this.props.coordinates.column," - line:",this.props.coordinates.row,"checked =>",this.props.isSelected);var e=this.state.isSelected?"table.deselectedAllTitle":"table.selectedAllTitle",n={ref:function(e){e&&(t.checkBoxRef=e)},checked:this.state.isSelected,onChange:function(e){t.props.toggleSelectLines(null)},title:e&&this.i18n(e),name:this.state.value?"selectedItems-"+this.state.value:"selectedItems-none",disabled:0===this.props.contentState.items.length||this.props.contentState.itemInEdition};return r.createElement(a.CheckBox,o.__assign({},n))},CheckHeaderCell.prototype.blurActions=function(t){t instanceof HTMLInputElement?t.tabIndex=-1:t.children&&this.blurActions(t.children[0])},CheckHeaderCell.prototype.handleCellFocus=function(t){t&&(t instanceof HTMLInputElement?(t.focus(),t.tabIndex=0):t.children&&this.handleCellFocus(t.children[0]))},CheckHeaderCell.prototype.handleChange=function(t,e){this.checkBoxRef&&(!l.ArrayUtils.isInclude(this.props.contentState.items,t)||0===this.props.contentState.items.length&&t.length>0?this.setState({isSelected:!1}):this.setState({isSelected:!0}))},CheckHeaderCell.prototype.getTabIndexFullKind=function(){return-1},CheckHeaderCell}(s.AbstractHeaderCell);e.CheckHeaderCell=p},660:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function CellCoordinates(t,e){this.column=t,this.row=e}return CellCoordinates.prototype.isSame=function(t){return!(!t||t.column!==this.column||t.row!==this.row)},CellCoordinates}();e.CellCoordinates=o},661:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(4),s=n(2),a=n(10);n(147);var r=function(t){function AlertDiv(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(AlertDiv,t),AlertDiv.prototype.render=function(){var t=this,e={};this.state.className&&(e[this.state.className]=!0),e["hidden-alert-div"]=!0;var n={className:a(e),id:this.props.id,ref:function(e){t.container=e}};return s.createElement("div",o.__assign({},n))},AlertDiv.prototype.setMessage=function(t){this.container&&(this.container.innerHTML="",t&&(this.container.innerHTML='<div role="alert">'+t+"</div>"))},AlertDiv}(i.HornetComponent);e.AlertDiv=r},662:function(t,e){var n="[object Number]",o=Object.prototype.toString;t.exports=function isNaN(t){return function isNumber(t){return"number"==typeof t||function isObjectLike(t){return!!t&&"object"==typeof t}(t)&&o.call(t)==n}(t)&&t!=+t}},663:function(t,e,n){},664:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(3),s=n(1),a=n(379),r=n(37),l=n(9),c=s.Logger.getLogger("hornet-js-react-components.widget.table.column.cell.date.date-body-cell"),p=function(t){function DateBodyCell(e,n){var i=t.call(this,e,n)||this;if(e.value){var s=DateBodyCell.getDateValue(i.state);i.state=o.__assign({},i.state,{value:s})}return i}return o.__extends(DateBodyCell,t),DateBodyCell.prototype.componentWillReceiveProps=function(t,e){var n=DateBodyCell.getTemplatedValue(t),i=r({},o.__assign({},t,{value:n}));n!==this.state.value&&this.setState({value:DateBodyCell.getDateValue(i)})},DateBodyCell.getDateValue=function(t){var e;if(t.value instanceof Date||t.value instanceof Number)e=t.value;else if(!isNaN(t.value)&&isFinite(t.value))e=Number(t.value);else if(t.inputFormat||"string"==typeof t.value){var n=l(t.value,t.inputFormat||this.getI18n("calendar.dateFormat"),!0);n.isValid()&&(e=n.toDate())}else c.error("Format date not supported ",t.keyColumn," - line:",t.coordinates.row),e=void 0;return e},DateBodyCell.prototype.renderCell=function(){return c.debug("render DateBodyCell-> column:",this.props.coordinates.column," - line:",this.props.coordinates.row),this.state.value?i.Utils.dateUtils.formatInTZ(this.state.value,this.props.format||this.i18n("calendar.dateFormat"),i.Utils.dateUtils.TZ_EUROPE_PARIS):""},DateBodyCell}(a.AbstractBodyCell);e.DateBodyCell=p}}]);